{"version":3,"sources":["webpack:///webpack/bootstrap 1c90f9c0e613cbb183b6","webpack:///./src/Component.ts","webpack:///./src/mainApp/MinimalGallery/_actions/index.ts","webpack:///external \"dojo/io-query\"","webpack:///./src/mainApp/MinimalGallery/_actions/base.ts","webpack:///./src/mainApp/MinimalGallery/_utilities/supportedItemTypes.ts","webpack:///./src/mainApp/MinimalGallery/Gallery/Panel/_actions/index.ts","webpack:///external \"esri/core/promiseUtils\"","webpack:///external \"esri/identity/IdentityManager\"","webpack:///external \"esri/portal/Portal\"","webpack:///external \"dojo/promise/all\"","webpack:///./src/mainApp/MinimalGallery/Viewer/View/ViewBase/index.tsx","webpack:///./src/mainApp/index.ts","webpack:///./src/applicationBase/ApplicationBase.js","webpack:///external \"esri/identity/OAuthInfo\"","webpack:///external \"dojo/_base/kernel\"","webpack:///external \"esri/config\"","webpack:///external \"esri/portal/PortalItem\"","webpack:///external \"esri/portal/PortalQueryParams\"","webpack:///./src/applicationBase/declareDecorator.js","webpack:///external \"dojo/_base/declare\"","webpack:///./src/mainApp/Widget.tsx","webpack:///external \"esri/core/accessorSupport/decorators\"","webpack:///external \"esri/widgets/Widget\"","webpack:///./src/mainApp/MinimalGallery/index.tsx","webpack:///external \"esri/widgets/support/widget\"","webpack:///external \"dojo/Deferred\"","webpack:///external \"dojo/cookie\"","webpack:///./src/mainApp/MinimalGallery/_actions/items.ts","webpack:///./src/mainApp/MinimalGallery/_actions/router.ts","webpack:///./src/mainApp/MinimalGallery/Header.tsx","webpack:///./src/mainApp/MinimalGallery/Gallery/index.tsx","webpack:///./src/mainApp/MinimalGallery/Gallery/Panel/index.tsx","webpack:///./src/mainApp/MinimalGallery/Gallery/Panel/Caption.tsx","webpack:///./src/mainApp/MinimalGallery/Gallery/Panel/_reducers/index.ts","webpack:///./src/mainApp/MinimalGallery/Viewer/index.tsx","webpack:///./src/mainApp/MinimalGallery/Viewer/View/index.tsx","webpack:///./src/mainApp/MinimalGallery/Viewer/View/MapView.tsx","webpack:///./src/mainApp/MinimalGallery/Viewer/View/ViewBase/_reducers/index.ts","webpack:///external \"esri/core/requireUtils\"","webpack:///external \"esri/widgets/Expand\"","webpack:///./src/mainApp/MinimalGallery/Viewer/View/AppView.tsx","webpack:///./src/mainApp/MinimalGallery/Viewer/View/SceneView.tsx","webpack:///./src/mainApp/MinimalGallery/_utilities/convertHex.ts","webpack:///./src/mainApp/MinimalGallery/Pager.tsx","webpack:///./src/mainApp/MinimalGallery/_reducers/index.ts","webpack:///./src/mainApp/MinimalGallery/_reducers/base.ts","webpack:///./src/mainApp/MinimalGallery/_reducers/items.ts","webpack:///./src/mainApp/MinimalGallery/_reducers/router.ts","webpack:///./src/mainApp/MinimalGallery/_reducers/filter.ts","webpack:///./src/mainApp/MinimalGallery/_reducers/page.ts","webpack:///./src/mainApp/MinimalGallery/_reducers/viewer.ts","webpack:///./src/mainApp/MinimalGallery/_utilities/router.ts"],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,yBAAyB;AACzB,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,uBAAuB;AACvB,iBAAiB;AACjB,wBAAwB;AACxB,kBAAkB;AAClB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,+HAA+H;AACxK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oHAAoH,iBAAiB,EAAE;AACvI;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,wCAAwC;AACrF,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,8HAA8H;AACrK,wCAAwC,cAAc;AACtD,wCAAwC,gFAAgF;AACxH,0CAA0C,gFAAgF;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,2BAA2B;AACnE;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AAAA;AACD,2C;;;;;;ACngBA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;gECAA;AACA;AACA,kDAAkD,cAAc;AAChE;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAA;AACD,4C;;;;;;ACnBA,gD;;;;;;ACAA,uFAAuF;AACvF,kFAAkF;;;;;;;;;;;;;;;;;;AAElF,2CAAoF;AACpF,qCAA8C;AAG9C,+CAAiF;AACjF,uCAAkF;AAClF,yCAAqD;AAO7C,yCAAK,EAAE,qCAAK,CAAiB;AAGrC;IAAqC,2BAAgB;IAGjD,iBAAY,KAAmB;QAA/B,YACI,iBAAO,SAoBV;QAlBG,KAAI,CAAC,cAAc,GAAG,IAAI,wBAAc,CACpC,oBAAQ,CAAC;YACL,QAAQ;YACR,YAAY,EAAE,KAAI;YAClB,YAAY,EAAE;gBACV,IAAI,EAAE;oBACF,eAAe,EAAE,KAAK,CAAC,WAAW;oBAClC,qBAAqB,EAAE,IAAI;oBAC3B,IAAI,EAAE,KAAK,CAAC,IAAI;oBAChB,MAAM,EAAE,SAAS;oBACjB,WAAW,EAAE,MAAM;iBACtB;aACJ;YACD,WAAW,EAAE,CAAE,KAAK,EAAE,eAAM,CAAE;SACjC,CAAC,CACL,CAAC;QAEF,6BAAoB,CAAC,KAAI,CAAC,cAAc,CAAC,KA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","file":"application.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1c90f9c0e613cbb183b6","import { tsx as h } from \"esri/widgets/support/widget\";\r\n\r\ninterface StoreParams {\r\n    reducers: any;\r\n    parentWidget: __esri.Widget;\r\n    initialState?: __Component.Pojo;\r\n    middlewares?: any[];\r\n}\r\n\r\nexport default abstract class Component<ApplicationState extends __Component.Pojo, ComponentState extends __Component.Pojo = {}> {\r\n    /** Child components defined in this component's render function */\r\n    public childComponents: {\r\n        [childKey: string]: Component<__Component.Pojo, __Component.Pojo>;\r\n    } = {};\r\n\r\n    /** Internal component state */\r\n    public state: ComponentState;\r\n\r\n    /** The full state tree for the current scope */\r\n    public props: ApplicationState;\r\n\r\n    /** Indicates whether a component needs to re-render, or can simply return precalculated vdom */\r\n    public dirty: Boolean = true;\r\n\r\n    /** The previous result of rendering the component */\r\n    public renderResult: any;\r\n\r\n    /** Injectable hyperscript or custom components */\r\n    public children: any;\r\n\r\n    /** The component's store, which is shared by all components in the scope */\r\n    public store: __Component.Store;\r\n\r\n    constructor(store: __Component.Store) {\r\n        this.store = store;\r\n        this.props = store.getState();\r\n\r\n        this.tsx = this.tsx.bind(this);\r\n        this.updateProps = this.updateProps.bind(this);\r\n\r\n        store.subscribe(this.updateProps);\r\n    }\r\n\r\n    /** tsx function required to render child components */\r\n    public tsx(element: string | any, properties?: any, children?: any) {\r\n        if (typeof element === \"string\") { // Rendering ordinary hyperscript\r\n            return h.apply(this, arguments);\r\n        } else { // Rendering a custom component\r\n            if (properties && properties.key) { // Make sure the component has a unique key\r\n                let child = this.childComponents[properties.key];\r\n                if (child) {\r\n                    if (child.dirty) { // Need to re-render\r\n                        child.renderResult = child.render();\r\n                    }\r\n                    return child.renderResult;\r\n                } else {\r\n                    this.childComponents[properties.key] = new element(\r\n                        properties.store ? newStore({ ...properties.store, parentWidget: this.store.parentWidget }) :\r\n                        this.store,\r\n                        properties.key\r\n                    );\r\n                    this.childComponents[properties.key].renderResult = this.childComponents[properties.key].render();\r\n                    return this.childComponents[properties.key].renderResult;\r\n                }\r\n            } else {\r\n                throw new Error(\"Custom components must each have a unique key property.\");\r\n            }\r\n        }\r\n    }\r\n    \r\n    /** Returns a VNode, needs to be implemented by component creator */\r\n    public render() {}\r\n    \r\n    /** Called before a component's props are updated. */\r\n    public componentWillReceiveProps(nextProps: ApplicationState) {}\r\n    \r\n    /** Returns true by default. If false returned component will not re-render */\r\n    public shouldComponentUpdate(nextProps: ApplicationState) {\r\n        return true;\r\n    }\r\n    \r\n    /** Updates the private state of the component */\r\n    public setState(newState: Partial<ComponentState>) {\r\n        this.state = {...this.state as any, ...newState as any};\r\n        this.store.parentWidget.scheduleRender();\r\n    }\r\n    \r\n    /** Dispatches an action to the component's store */\r\n    public dispatch(action: any) {\r\n        this.store.dispatch(action);\r\n    }\r\n\r\n    /** Used behind the scenes to sync a component's props with the current application state */\r\n    private updateProps(nextProps: ApplicationState) {\r\n        this.componentWillReceiveProps(nextProps);\r\n        this.dirty = this.shouldComponentUpdate(nextProps);\r\n        this.props = nextProps;\r\n    }\r\n}\r\n\r\n/** Creates a new store of application state */\r\nexport function newStore(storeParams: StoreParams) {\r\n    if (storeParams.middlewares) {\r\n        return applyMiddleware(...storeParams.middlewares)(createStore)(\r\n            storeParams.reducers, storeParams.parentWidget, storeParams.initialState\r\n        );\r\n    }\r\n    return createStore(storeParams.reducers, storeParams.parentWidget, storeParams.initialState);\r\n}\r\n\r\n/** Combines reducers to allow composition */\r\nexport function combineReducers(reducers: any) {\r\n    var finalReducers = pick(reducers, (val: any) => typeof val === 'function');\r\n    return (state = {}, action: any) => mapValues(finalReducers,\r\n        (reducer: any, key: any) => reducer(state[key], action)\r\n    );\r\n}\r\n\r\nfunction createStore(reducers: any, parentWidget: __esri.Widget, initialState?: __Component.Pojo): __Component.Store {\r\n    let state: __Component.Pojo;\r\n    if (initialState) {\r\n        state = initialState;\r\n    }\r\n    const subscribers: ((state: __Component.Pojo) => void)[] = [];\r\n    const store = {\r\n        parentWidget,\r\n        dispatch: (action: any) => {\r\n            state = reducers(state, action);\r\n            subscribers.forEach(handler => handler(state));\r\n            parentWidget.scheduleRender();\r\n        },\r\n        subscribe: (handler: (state: __Component.Pojo) => void) => {\r\n            subscribers.push(handler);\r\n            return function unsubscribe() {\r\n                const index = subscribers.indexOf(handler);\r\n                subscribers.splice(index, 1);\r\n            };\r\n        },\r\n        getState() {\r\n            return state;\r\n        }\r\n    };\r\n    store.dispatch({ type: \"INITIALIZE\" });\r\n    return store;\r\n}\r\n\r\nfunction applyMiddleware(...middlewares: any[]) {\r\n    return (next: any) => (reducer: any, parentWidget: any, initialState: any) => {\r\n      var store = next(reducer, parentWidget, initialState);\r\n      var dispatch = store.dispatch;\r\n      var chain = [];\r\n  \r\n      chain = middlewares.map(middleware => middleware({\r\n        getState: store.getState,\r\n        dispatch: (action: any) => dispatch(action)\r\n      }));\r\n      dispatch = compose(...chain)(store.dispatch);\r\n  \r\n      return { ...store, dispatch };\r\n    };\r\n  }\r\n\r\nfunction compose(...funcs: any[]) {\r\n    return (arg: any) => funcs.reduceRight((composed, f) => f(composed), arg);\r\n}\r\n    \r\nfunction mapValues(obj: __Component.Pojo, fn: any) {\r\n    return Object.keys(obj).reduce((result, key) => {\r\n        result[key] = fn(obj[key], key);\r\n        return result;\r\n    }, {});\r\n}\r\n\r\nfunction pick(obj: __Component.Pojo, fn: any) {\r\n    return Object.keys(obj).reduce((result, key) => {\r\n        if (fn(obj[key])) {\r\n            result[key] = obj[key];\r\n        }\r\n        return result;\r\n    }, {});\r\n}\r\n\r\n/** Available Redux middlewares */\r\nexport const middlewares = {\r\n    /** Asynchronous control flow using thunks */\r\n    thunk: (params: { dispatch: any, getState: any }) => (next: any) => (action: any) => {\r\n        if (typeof action === \"function\") {\r\n            return action(params.dispatch, params.getState);\r\n        }\r\n        return next(action);\r\n    },\r\n    /** Log dispatch and next state to the console */\r\n    debug:  (params: { dispatch: any, getState: any }) => (next: any) => (action: any) => {\r\n        console.log(action.type, action);\r\n        let result = next(action);\r\n        console.log('next state', params.getState());\r\n        return result;\r\n    },\r\n    /** Send actions and resulting state to a listener */\r\n    addListener: (listener: (action: any, nextState: __Component.Pojo) => any) =>\r\n        (params: { dispatch: any, getState: any }) => (next: any) => (action: any) => {\r\n            let result = next(action);\r\n            listener(action, params.getState());\r\n            return result;\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Component.ts","export {\r\n    SAVE_APP_BASE_RESULT,\r\n    LOAD_APP_FAIL,\r\n    LOAD_APP_PROGRESS,\r\n    LOAD_APP_SUCCESS,\r\n    loadApplicationBase\r\n} from \"./base\";\r\n\r\nexport {\r\n    UPDATE_ITEMS,\r\n    FILTER_ITEMS,\r\n    filterItems,\r\n    updateItems\r\n} from \"./items\";\r\n\r\nexport {\r\n    PUSH,\r\n    HASH_CHANGE,\r\n    push,\r\n    hashChange\r\n} from \"./router\";\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_actions/index.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/io-query\"\n// module id = 2\n// module chunks = 0","export const SAVE_APP_BASE_RESULT = \"SAVE_APP_BASE_RESULT\";\r\nexport const LOAD_APP_FAIL = \"LOAD_APP_FAIL\";\r\nexport const LOAD_APP_PROGRESS = \"LOAD_APP_PROGRESS\";\r\nexport const LOAD_APP_SUCCESS = \"LOAD_APP_FINISH\";\r\nexport const AUTHENTICATION_FAILED = \"AUTHENTICATION_FAILED\";\r\n\r\nimport * as all from \"dojo/promise/all\";\r\nimport * as Deferred from \"dojo/Deferred\";\r\nimport * as IdentityManager from \"esri/identity/IdentityManager\";\r\nimport * as Portal from \"esri/portal/Portal\";\r\nimport * as cookie from \"dojo/cookie\";\r\nimport { updateItems, hashChange } from \".\";\r\nimport { MinimalGalleryState } from \"..\";\r\nimport supportedItemTypes from \"../_utilities/supportedItemTypes\";\r\n\r\nexport const loadApplicationBase = () => (dispatch: any, getState: () => MinimalGalleryState) => {\r\n    const { base } = getState();\r\n    base.applicationBase.load().then(\r\n        (result: __esriApplicationBase.ApplicationConfig) => dispatch(queryGroupItems(result)),\r\n        (err: Error) => {\r\n            if (err === \"identity-manager:not-authorized\" as any as Error) {\r\n                dispatch(loadAppNoAuth(err));\r\n            } else {\r\n                dispatch(loadAppFail(err));\r\n            }\r\n        },\r\n        (progress: __Component.Pojo) => dispatch(loadAppProgress(progress))\r\n    );\r\n};\r\n\r\nexport const updateApplicationBase = (applicationBaseResult: __esriApplicationBase.ApplicationConfig) =>\r\n    (dispatch: any) => {\r\n        dispatch({ type: SAVE_APP_BASE_RESULT, payload: applicationBaseResult });\r\n        dispatch(queryGroupItems(applicationBaseResult));\r\n    };\r\n\r\nexport const queryGroupItems = (applicationBaseResult: __esriApplicationBase.ApplicationConfig) =>\r\n    (dispatch: any, getState: () => MinimalGalleryState) => {\r\n\r\n        // Boilerplate loaded properly so save it\r\n        dispatch(saveAppBaseResult(applicationBaseResult));\r\n        const state = getState();\r\n        const applicationBase = state.base.applicationBase;\r\n        const config = applicationBaseResult.config;\r\n\r\n        // Inject custom stylesheet if provided\r\n        if (config.customCSS && config.customCSS !== \"\") {\r\n            const customStyle = document.createElement(\"style\");\r\n            customStyle.innerHTML = config.customCSS;\r\n            document.body.appendChild(customStyle);\r\n        }\r\n\r\n        fetchAllGroupItems(applicationBase, config).then(\r\n            (response: any) => {\r\n                const promises = response.results.map((item: any) => item.load());\r\n                all(promises).then(\r\n                    (items: __Component.Pojo[]) => {\r\n                        const { hash } = state.router;\r\n\r\n                        dispatch(updateItems(items.filter((item: __Component.Pojo) => supportedItemTypes[item.type])));\r\n                        dispatch(hashChange(window.location.hash.slice(1)));\r\n                        dispatch(loadAppSuccess());\r\n                    },\r\n                    (err: any) => dispatch(loadAppFail(err))\r\n                );\r\n            },\r\n            (err: any) => dispatch(loadAppFail(err))\r\n        );\r\n    };\r\n\r\nconst fetchAllGroupItems = (applicationBase: MinimalGalleryState[\"base\"][\"applicationBase\"], config: any) => {\r\n    const dfd = new Deferred;\r\n\r\n    applicationBase.queryGroupItems(\r\n        config.group,\r\n        {\r\n            num: 100,\r\n            sortField: (config.sortField ? config.sortField : \"numviews\"),\r\n            sortOrder: (config.sortOrder ? config.sortOrder : \"desc\"),\r\n            start: 0\r\n        } as __esri.PortalQueryParams\r\n    ).then((response: any) => {\r\n        if (response.total > response.results.length) { // This group is more than 100 items, fetch them all!\r\n            const mappableArr = Array.apply(null, { length: Math.floor(response.total / 100) });\r\n            const promises = mappableArr.map((c: any, i: number) => (\r\n                applicationBase.queryGroupItems(\r\n                    config.group,\r\n                    {\r\n                        num: 100,\r\n                        sortField: (config.sortField ? config.sortField : \"numviews\"),\r\n                        sortOrder: (config.sortOrder ? config.sortOrder : \"desc\"),\r\n                        start: 100 + (i * 100)\r\n                    } as __esri.PortalQueryParams\r\n                )\r\n            ));\r\n            all(promises).then((responses: any) => {\r\n                const allItems = responses.reduce((p: any, c: any) => {\r\n                    p.results = p.results.concat(c.results);\r\n                    return p;\r\n                }, { results: response.results });\r\n                dfd.resolve(allItems);\r\n            }, (err: Error) => {\r\n                dfd.reject(err);\r\n            });\r\n        } else {\r\n            dfd.resolve(response);\r\n        }\r\n    }, (err: Error) => {\r\n        dfd.reject(err);\r\n    });\r\n\r\n    return dfd;\r\n};\r\n\r\nexport const signIn = () => (dispatch: any, getState: () => MinimalGalleryState) => {\r\n    const state = getState();\r\n    const portal = new Portal({ url: state.base.applicationBase.portal.url });\r\n    portal.authMode = \"immediate\";\r\n    portal.load().then(() => {\r\n        dispatch(updateApplicationBase({\r\n            ...state.base.applicationBaseResult,\r\n            portal\r\n        }));\r\n    });\r\n};\r\n\r\nexport const signOut = () => (dispatch: any, getState: () => MinimalGalleryState) => {\r\n    IdentityManager.destroyCredentials();\r\n\r\n    cookie(\"esri_auth\", undefined, {\r\n        path: \"/\",\r\n        domain: \".arcgis.com\",\r\n        expires: -1\r\n    });\r\n    cookie(\"esri_auth\", undefined, {\r\n        path: \"/\",\r\n        domain: `.${document.domain}`,\r\n        expires: -1\r\n    });\r\n\r\n    const state = getState();\r\n    const portal = new Portal({ url: state.base.applicationBase.portal.url });\r\n    portal.authMode = \"auto\";\r\n    portal.load().then(() => {\r\n        portal.user = null as any;\r\n        dispatch(updateApplicationBase({\r\n            ...state.base.applicationBaseResult,\r\n            portal\r\n        }));\r\n    });\r\n};\r\n\r\nconst saveAppBaseResult = (applicationBaseResult: __esriApplicationBase.ApplicationConfig) => ({\r\n    type: SAVE_APP_BASE_RESULT,\r\n    payload: applicationBaseResult\r\n});\r\n\r\nconst loadAppFail = (err: any) => ({\r\n    type: LOAD_APP_FAIL,\r\n    payload: err\r\n});\r\n\r\nconst loadAppNoAuth = (err: any) => ({\r\n    type: AUTHENTICATION_FAILED,\r\n    payload: err\r\n});\r\n\r\nconst loadAppProgress = (progress: __Component.Pojo) => ({\r\n    type: LOAD_APP_PROGRESS,\r\n    payload: progress.status\r\n});\r\n\r\nconst loadAppSuccess = () => ({\r\n    type: LOAD_APP_SUCCESS\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_actions/base.ts","const fileTypes = {\r\n  \"360 VR Experience\": \"file\",\r\n  \"App Builder Extension\": \"file\",\r\n  \"ArcGIS Pro Add In\": \"file\",\r\n  \"ArcGIS Pro Configuration\": \"file\",\r\n  \"ArcPad Package\": \"file\",\r\n  \"CAD Drawing\": \"file\",\r\n  \"CSV\": \"file\",\r\n  \"CSV Collection\": \"file\",\r\n  \"CityEngine Web Scene\": \"file\",\r\n  \"Code Sample\": \"file\",\r\n  \"Dashboard\": \"file\",\r\n  \"Desktop Add In\": \"file\",\r\n  \"Desktop Application\": \"file\",\r\n  \"Desktop Application Template\": \"file\",\r\n  \"Desktop Style\": \"file\",\r\n  \"Document Link\": \"file\",\r\n  \"Explorer Add In\": \"file\",\r\n  \"Explorer Layer\": \"file\",\r\n  \"Explorer Map\": \"file\",\r\n  \"Feature Collection\": \"file\",\r\n  \"Feature Service\": \"file\",\r\n  \"File Geodatabase\": \"file\",\r\n  \"GeoJson\": \"file\",\r\n  \"Geocoding Service\": \"file\",\r\n  \"Geodata Service\": \"file\",\r\n  \"Geometry Service\": \"file\",\r\n  \"Geoprocessing Package\": \"file\",\r\n  \"Geoprocessing Sample\": \"file\",\r\n  \"Geoprocessing Service\": \"file\",\r\n  \"Globe Document\": \"file\",\r\n  \"Globe Service\": \"file\",\r\n  \"Image\": \"file\",\r\n  \"Image Collection\": \"file\",\r\n  \"Image Service\": \"file\",\r\n  \"Insights Workbook\": \"file\",\r\n  \"KML\": \"file\",\r\n  \"KML Collection\": \"file\",\r\n  \"Layer\": \"file\",\r\n  \"Layer Package\": \"file\",\r\n  \"Layout\": \"file\",\r\n  \"Locator Package\": \"file\",\r\n  \"Map Document\": \"file\",\r\n  \"Map Package\": \"file\",\r\n  \"Map Service\": \"file\",\r\n  \"Map Template\": \"file\",\r\n  \"Microsoft Excel\": \"file\",\r\n  \"Microsoft Powerpoint\": \"file\",\r\n  \"Microsoft Word\": \"file\",\r\n  \"Mobile Application\": \"file\",\r\n  \"Mobile Basemap Package\": \"file\",\r\n  \"Mobile Map Package\": \"file\",\r\n  \"Network Analysis Service\": \"file\",\r\n  \"Operations Dashboard Add In\": \"file\",\r\n  \"Operations Dashboard Extension\": \"file\",\r\n  \"PDF\": \"file\",\r\n  \"Pro Map\": \"file\",\r\n  \"Project Package\": \"file\",\r\n  \"Project Template\": \"file\",\r\n  \"Published Map\": \"file\",\r\n  \"Raster function template\": \"file\",\r\n  \"Rule Package\": \"file\",\r\n  \"Scene Document\": \"file\",\r\n  \"Scene Package\": \"file\",\r\n  \"Scene Service\": \"file\",\r\n  \"Service Definition\": \"file\",\r\n  \"Shapefile\": \"file\",\r\n  \"Stream Service\": \"file\",\r\n  \"Task File\": \"file\",\r\n  \"Visio Document\": \"file\",\r\n  \"WFS\": \"file\",\r\n  \"WMS\": \"file\",\r\n  \"WMTS\": \"file\",\r\n  \"Windows Mobile Package\": \"file\",\r\n  \"Windows Viewer Add In\": \"file\",\r\n  \"Workflow Manager Service\": \"file\",\r\n  \"iWork Keynote\": \"file\",\r\n  \"iWork Numbers\": \"file\",\r\n  \"iWork Pages\": \"file\",\r\n  \"Form\": \"file\",\r\n  \"Workforce Project\": \"file\"\r\n};\r\n\r\nexport default {\r\n  ...fileTypes,\r\n  \"Web Map\": \"webmap\",\r\n  \"Web Mapping Application\": \"webapp\",\r\n  \"Web Scene\": \"webscene\",\r\n  \"Dashboard\": \"webapp\",\r\n  \"Application\": \"webapp\",\r\n  \"StoryMap\": \"webapp\"\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_utilities/supportedItemTypes.ts","export const SHOW_IN_VIEWER = \"SHOW_IN_VIEWER\";\r\nexport const SHOW_FULLSCREEN = \"SHOW_FULLSCREEN\";\r\nexport const MOUSE_OVER = \"MOUSE_OVER\";\r\nexport const MOUSE_OUT = \"MOUSE_OUT\";\r\nexport const VIEWER_CHANGE = \"VIEWER_CHANGE\";\r\n\r\nexport const showInViewer = () => ({\r\n    type: SHOW_IN_VIEWER\r\n});\r\n\r\nexport const showFullscreen = () => ({\r\n    type: SHOW_FULLSCREEN\r\n});\r\n\r\nexport const mouseOver = () => ({\r\n    type: MOUSE_OVER\r\n});\r\n\r\nexport const mouseOut = () => ({\r\n    type: MOUSE_OUT\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Gallery/Panel/_actions/index.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/core/promiseUtils\"\n// module id = 6\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/identity/IdentityManager\"\n// module id = 7\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/portal/Portal\"\n// module id = 8\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/promise/all\"\n// module id = 9\n// module chunks = 0","import Component from \"../../../../../Component\";\r\nimport { ViewState } from \"./_reducers\";\r\n\r\nexport { reducers } from \"./_reducers\";\r\n\r\nimport * as all from \"dojo/promise/all\";\r\nimport * as promiseUtils from \"esri/core/promiseUtils\";\r\nimport * as requireUtils from \"esri/core/requireUtils\";\r\nimport * as Expand from \"esri/widgets/Expand\";\r\n\r\ninterface ComponentState {\r\n    status: string;\r\n    loadText: string;\r\n}\r\n\r\nconst widgetKey = {\r\n    compassWidget: \"esri/widgets/Compass\",\r\n    homeWidget: \"esri/widgets/Home\",\r\n    legendWidget: \"esri/widgets/Legend\",\r\n    locateWidget: \"esri/widgets/Locate\",\r\n    searchWidget: \"esri/widgets/Search\",\r\n    expandWidget: \"esri/widgets/Expand\"\r\n};\r\n\r\nexport default class ViewBase extends Component<ViewState, ComponentState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n\r\n        this.state = {\r\n            status: \"loading\",\r\n            loadText: \"scripts\"\r\n        };\r\n\r\n        this.loadScripts = this.loadScripts.bind(this);\r\n        this.loadMap = this.loadMap.bind(this);\r\n        this.loadWidgets = this.loadWidgets.bind(this);\r\n\r\n        this.loadScripts.bind(this)();\r\n    }\r\n\r\n    public render() {\r\n        const tsx = this.tsx;\r\n\r\n        if (this.state.status === \"loaded\") {\r\n            return <div />;\r\n        } else if (this.state.status === \"loading\") {\r\n            return (\r\n                <div>\r\n                    <div class=\"loader is-active padding-leader-3 padding-trailer-3 center-style\">\r\n                        <div class=\"loader-bars\" />\r\n                        <div class=\"loader-text\">{this.props.i18n.viewLoading[this.state.loadText]}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div>\r\n                <h3 class=\"center-style\">{this.props.i18n.viewLoading.failed}</h3>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private loadScripts() {\r\n        requireUtils.when(window[\"require\"], [this.props.webModule, this.props.viewModule])\r\n            .then(\r\n                ([WebConstructor, ViewConstructor]) => {\r\n                    this.setState({ loadText: \"map\" });\r\n                    this.loadMap(WebConstructor, ViewConstructor);\r\n                },\r\n                (err) => {\r\n                    this.setState({ status: \"failed\" });\r\n                }\r\n            );\r\n    }\r\n\r\n    private loadMap(\r\n        WebConstructor: __esri.WebMapConstructor,\r\n        ViewConstructor: __esri.MapViewConstructor\r\n    ) {\r\n        let view: any;\r\n        const map: __esri.WebMap | __esri.WebScene = new WebConstructor({\r\n            portalItem: {\r\n                id: this.props.id\r\n            }\r\n        });\r\n        map.load().then(() => {\r\n            this.setState({ loadText: \"basemap\" });\r\n            return map.basemap.load();\r\n        }).then(() => {\r\n            this.setState({ loadText: \"layers\" });\r\n            const allLayers = map.allLayers;\r\n            const promises = allLayers.map((layer) => layer.load());\r\n            return all(promises.toArray());\r\n        }).then((layers) => {\r\n            this.setState({ loadText: \"widgets\" });\r\n            view = new ViewConstructor({\r\n                container: this.props.containerId,\r\n                map\r\n            });\r\n            return this.loadWidgets(view);\r\n        }).then(() => {\r\n            view.container = this.props.containerId;\r\n            this.setState({ status: \"loaded\" });\r\n        }).otherwise((err) => {\r\n            this.setState({ status: \"failed\" });\r\n        });\r\n    }\r\n\r\n    private loadWidgets(view: __esri.MapView) {\r\n        const positions = {\r\n            \"bottom-left\": true,\r\n            \"bottom-right\": true,\r\n            \"top-left\": true,\r\n            \"top-right\": true\r\n        };\r\n        const modules = Object.keys(this.props.widgets).reduce((p, c, i) => {\r\n            if (positions[this.props.widgets[c]]) {\r\n                p.push({\r\n                    module: widgetKey[c],\r\n                    position: this.props.widgets[c]\r\n                } as never); // typescript is weird\r\n            }\r\n            return p;\r\n        }, []);\r\n        return requireUtils.when(window[\"require\"], modules.map((item) => item[\"module\"]))\r\n            .then((constructors) => {\r\n                constructors.forEach((Constructor: any, i: number) => {\r\n                    let widget = new Constructor({ view });\r\n                    if ( modules[i][\"module\"] === \"esri/widgets/Legend\" ) {\r\n                        // create expand widget to go around legend\r\n                        widget = new Expand({\r\n                            expandIconClass: widget.iconClass || \"esri-icon-layer-list\",\r\n                            view: view, \r\n                            content: widget\r\n                        });\r\n                    }\r\n                    if (widget.activeLayerInfos) {\r\n                        widget.watch(\"activeLayerInfos.length\", () => {\r\n                            view.ui.add(widget, modules[i][\"position\"]);\r\n                        });\r\n                        return;\r\n                    }\r\n                    view.ui.add(widget, modules[i][\"position\"]);\r\n                });\r\n                return promiseUtils.resolve();\r\n            });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Viewer/View/ViewBase/index.tsx","import * as ApplicationBase from \"../applicationBase/ApplicationBase\";\n\nimport MainApp from \"./Widget\";\n\nexport = (applicationConfigJSON: string, boilerplateConfigJSON: string, i18n: any) => {\n    const config = JSON.parse(applicationConfigJSON);\n    const settings = JSON.parse(boilerplateConfigJSON);\n\n    const boilerplate = new ApplicationBase({ config, settings });\n    const MainComponent = new MainApp({ boilerplate, i18n });\n    MainComponent.container = \"viewDiv\";\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/index.ts","/*\n  Copyright 2017 Esri\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n\n  you may not use this file except in compliance with the License.\n\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\n  See the License for the specific language governing permissions and\n\n  limitations under the License.​\n*/\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\ndefine([\"require\", \"exports\", \"dojo/_base/kernel\", \"esri/config\", \"esri/core/promiseUtils\", \"esri/identity/IdentityManager\", \"esri/identity/OAuthInfo\", \"esri/portal/Portal\", \"esri/portal/PortalItem\", \"esri/portal/PortalQueryParams\", \"./declareDecorator\"], function (require, exports, kernel, esriConfig, promiseUtils, IdentityManager, OAuthInfo, Portal, PortalItem, PortalQueryParams, declareDecorator_1) {\n    \"use strict\";\n    var defaultConfig = {\n        portalUrl: \"https://www.arcgis.com\",\n        helperServices: {\n            geometry: {},\n            printTask: {},\n            elevationSync: {},\n            geocode: []\n        }\n    };\n    var defaultSettings = {\n        environment: {},\n        group: {},\n        localStorage: {},\n        portal: {},\n        rightToLeftLocales: [\"ar\", \"he\"],\n        urlParams: [],\n        webMap: {},\n        webScene: {}\n    };\n    var ApplicationBase = /** @class */ (function () {\n        //--------------------------------------------------------------------------\n        //\n        //  Lifecycle\n        //\n        //--------------------------------------------------------------------------\n        function ApplicationBase(options) {\n            //--------------------------------------------------------------------------\n            //\n            //  Properties\n            //\n            //--------------------------------------------------------------------------\n            //----------------------------------\n            //  settings\n            //----------------------------------\n            this.settings = defaultSettings;\n            //----------------------------------\n            //  config\n            //----------------------------------\n            this.config = defaultConfig;\n            //----------------------------------\n            //  results\n            //----------------------------------\n            this.results = {};\n            //----------------------------------\n            //  portal\n            //----------------------------------\n            this.portal = null;\n            //----------------------------------\n            //  direction\n            //----------------------------------\n            this.direction = null;\n            //----------------------------------\n            //  locale\n            //----------------------------------\n            this.locale = kernel.locale;\n            //----------------------------------\n            //  units\n            //----------------------------------\n            this.units = null;\n            var config = options.config, settings = options.settings;\n            var applicationConfig = typeof config === \"string\"\n                ? JSON.parse(config)\n                : config;\n            var applicationBaseSettings = typeof settings === \"string\"\n                ? JSON.parse(settings)\n                : settings;\n            var configMixin = __assign({}, defaultConfig, applicationConfig);\n            var settingsMixin = __assign({}, defaultSettings, applicationBaseSettings);\n            this._mixinSettingsDefaults(settingsMixin);\n            this.config = configMixin;\n            this.settings = settingsMixin;\n        }\n        //--------------------------------------------------------------------------\n        //\n        //  Public Methods\n        //\n        //--------------------------------------------------------------------------\n        ApplicationBase.prototype.queryGroupItems = function (groupId, itemParams, portal) {\n            if (!portal || !groupId) {\n                portal = this.portal;\n            }\n            var defaultGroup = this.settings.group.default;\n            groupId = this._getDefaultId(groupId, defaultGroup);\n            var paramOptions = __assign({ query: \"group:\\\"\" + groupId + \"\\\" AND -type:\\\"Code Attachment\\\"\", sortField: \"modified\", sortOrder: \"desc\", num: 9, start: 1 }, itemParams);\n            var params = new PortalQueryParams(paramOptions);\n            return portal.queryItems(params);\n        };\n        ApplicationBase.prototype.load = function () {\n            var _this = this;\n            var settings = this.settings;\n            var environmentSettings = settings.environment, groupSettings = settings.group, localStorageSettings = settings.localStorage, portalSettings = settings.portal, webMapSettings = settings.webMap, websceneSettings = settings.webScene, urlParamsSettings = settings.urlParams;\n            var isEsri = environmentSettings.isEsri;\n            var urlParams = this._getUrlParamValues(urlParamsSettings);\n            this.results.urlParams = urlParams;\n            this.config = this._mixinAllConfigs({\n                config: this.config,\n                url: urlParams\n            });\n            if (isEsri) {\n                var esriPortalUrl = this._getEsriEnvironmentPortalUrl();\n                this.config.portalUrl = esriPortalUrl;\n                this.config.proxyUrl = this._getEsriEnvironmentProxyUrl(esriPortalUrl);\n            }\n            var _a = this.config, portalUrl = _a.portalUrl, proxyUrl = _a.proxyUrl, oauthappid = _a.oauthappid, appid = _a.appid;\n            this._setPortalUrl(portalUrl);\n            this._setProxyUrl(proxyUrl);\n            var rtlLocales = this.settings.rightToLeftLocales;\n            this.direction = this._getLanguageDirection(rtlLocales);\n            this._registerOauthInfos(oauthappid, portalUrl);\n            var sharingUrl = portalUrl + \"/sharing\";\n            var loadApplicationItem = appid\n                ? this._loadItem(appid)\n                : promiseUtils.resolve();\n            var checkAppAccess = IdentityManager.checkAppAccess(sharingUrl, oauthappid).always(function (response) { return response; });\n            var fetchApplicationData = appid\n                ? loadApplicationItem.then(function (itemInfo) {\n                    return itemInfo instanceof PortalItem\n                        ? itemInfo.fetchData()\n                        : undefined;\n                })\n                : promiseUtils.resolve();\n            var loadPortal = portalSettings.fetch\n                ? new Portal().load()\n                : promiseUtils.resolve();\n            return promiseUtils\n                .eachAlways([loadApplicationItem, fetchApplicationData, loadPortal, checkAppAccess])\n                .always(function (applicationArgs) {\n                var applicationItemResponse = applicationArgs[0], applicationDataResponse = applicationArgs[1], portalResponse = applicationArgs[2], checkAppAccessResponse = applicationArgs[3];\n                var applicationItem = applicationItemResponse\n                    ? applicationItemResponse.value\n                    : null;\n                var applicationData = applicationDataResponse\n                    ? applicationDataResponse.value\n                    : null;\n                var localStorage = localStorageSettings.fetch\n                    ? _this._getLocalConfig(appid)\n                    : null;\n                var appAccess = checkAppAccessResponse ? checkAppAccessResponse.value : null;\n                if (applicationItem && applicationItem.access && applicationItem.access !== \"public\") {\n                    // do we have permission to access app\n                    if (appAccess && appAccess.name && appAccess.name === \"identity-manager:not-authorized\") {\n                        //identity-manager:not-authorized, identity-manager:not-authenticated, identity-manager:invalid-request\n                        return promiseUtils.reject(appAccess.name);\n                    }\n                }\n                else if (applicationItemResponse.error) {\n                    return promiseUtils.reject(applicationItemResponse.error);\n                }\n                _this.results.localStorage = localStorage;\n                _this.results.applicationItem = applicationItemResponse;\n                _this.results.applicationData = applicationDataResponse;\n                var applicationConfig = applicationData\n                    ? applicationData.values\n                    : null;\n                var portal = portalResponse ? portalResponse.value : null;\n                _this.portal = portal;\n                _this.units = _this._getUnits(portal);\n                _this.config = _this._mixinAllConfigs({\n                    config: _this.config,\n                    url: urlParams,\n                    local: localStorage,\n                    application: applicationConfig\n                });\n                _this._setGeometryService(_this.config, portal);\n                var _a = _this.config, webmap = _a.webmap, webscene = _a.webscene, group = _a.group;\n                var webMapPromises = [];\n                var webScenePromises = [];\n                var groupInfoPromises = [];\n                var groupItemsPromises = [];\n                var isWebMapEnabled = webMapSettings.fetch && webmap;\n                var isWebSceneEnabled = websceneSettings.fetch && webscene;\n                var isGroupInfoEnabled = groupSettings.fetchInfo && group;\n                var isGroupItemsEnabled = groupSettings.fetchItems && group;\n                var itemParams = groupSettings.itemParams;\n                var defaultWebMap = webMapSettings.default;\n                var defaultWebScene = websceneSettings.default;\n                var defaultGroup = groupSettings.default;\n                var fetchMultipleWebmaps = webMapSettings.fetchMultiple;\n                var fetchMultipleWebscenes = websceneSettings.fetchMultiple;\n                var fetchMultipleGroups = groupSettings.fetchMultiple;\n                if (isWebMapEnabled) {\n                    var webMaps = _this._getPropertyArray(webmap);\n                    var allowedWebmaps = _this._limitItemSize(webMaps, fetchMultipleWebmaps);\n                    allowedWebmaps.forEach(function (id) {\n                        var webMapId = _this._getDefaultId(id, defaultWebMap);\n                        webMapPromises.push(_this._loadItem(webMapId));\n                    });\n                }\n                if (isWebSceneEnabled) {\n                    var webScenes = _this._getPropertyArray(webscene);\n                    var allowedWebsenes = _this._limitItemSize(webScenes, fetchMultipleWebscenes);\n                    allowedWebsenes.forEach(function (id) {\n                        var webSceneId = _this._getDefaultId(id, defaultWebScene);\n                        webScenePromises.push(_this._loadItem(webSceneId));\n                    });\n                }\n                if (isGroupInfoEnabled) {\n                    var groups = _this._getPropertyArray(group);\n                    var allowedGroups = _this._limitItemSize(groups, fetchMultipleGroups);\n                    allowedGroups.forEach(function (id) {\n                        var groupId = _this._getDefaultId(id, defaultGroup);\n                        groupInfoPromises.push(_this._queryGroupInfo(groupId, portal));\n                    });\n                }\n                if (isGroupItemsEnabled) {\n                    var groups = _this._getPropertyArray(group);\n                    groups.forEach(function (id) {\n                        groupItemsPromises.push(_this.queryGroupItems(id, itemParams, portal));\n                    });\n                }\n                var promises = {\n                    webMap: webMapPromises\n                        ? promiseUtils.eachAlways(webMapPromises)\n                        : promiseUtils.resolve(),\n                    webScene: webScenePromises\n                        ? promiseUtils.eachAlways(webScenePromises)\n                        : promiseUtils.resolve(),\n                    groupInfo: groupInfoPromises\n                        ? promiseUtils.eachAlways(groupInfoPromises)\n                        : promiseUtils.resolve(),\n                    groupItems: groupItemsPromises\n                        ? promiseUtils.eachAlways(groupItemsPromises)\n                        : promiseUtils.resolve()\n                };\n                return promiseUtils.eachAlways(promises).always(function (itemArgs) {\n                    var webMapResponses = itemArgs.webMap.value;\n                    var webSceneResponses = itemArgs.webScene.value;\n                    var groupInfoResponses = itemArgs.groupInfo.value;\n                    var groupItemsResponses = itemArgs.groupItems.value;\n                    var itemInfo = applicationItem ? applicationItem.itemInfo : null;\n                    _this._overwriteItemsExtent(webMapResponses, itemInfo);\n                    _this._overwriteItemsExtent(webSceneResponses, itemInfo);\n                    _this.results.webMapItems = webMapResponses;\n                    _this.results.webSceneItems = webSceneResponses;\n                    _this.results.groupInfos = groupInfoResponses;\n                    _this.results.groupItems = groupItemsResponses;\n                    return _this;\n                });\n            });\n        };\n        //--------------------------------------------------------------------------\n        //\n        //  Private Methods\n        //\n        //--------------------------------------------------------------------------\n        ApplicationBase.prototype._mixinSettingsDefaults = function (settings) {\n            var userEnvironmentSettings = settings.environment;\n            var userLocalStorageSettings = settings.localStorage;\n            var userGroupSettings = settings.group;\n            var userPortalSettings = settings.portal;\n            var userWebmapSettings = settings.webMap;\n            var userWebsceneSettings = settings.webScene;\n            settings.environment = __assign({ isEsri: false, webTierSecurity: false }, userEnvironmentSettings);\n            settings.localStorage = __assign({ fetch: true }, userLocalStorageSettings);\n            var itemParams = {\n                sortField: \"modified\",\n                sortOrder: \"desc\",\n                num: 9,\n                start: 0\n            };\n            settings.group = __assign({ default: \"908dd46e749d4565a17d2b646ace7b1a\", fetchInfo: true, fetchItems: true, fetchMultiple: true, itemParams: itemParams }, userGroupSettings);\n            settings.portal = __assign({ fetch: true }, userPortalSettings);\n            settings.webMap = __assign({ default: \"1970c1995b8f44749f4b9b6e81b5ba45\", fetch: true, fetchMultiple: true }, userWebmapSettings);\n            settings.webScene = __assign({ default: \"e8f078ba0c1546b6a6e0727f877742a5\", fetch: true, fetchMultiple: true }, userWebsceneSettings);\n        };\n        ApplicationBase.prototype._limitItemSize = function (items, allowMultiple) {\n            var firstItem = items[0];\n            return allowMultiple ? items : firstItem ? [firstItem] : [];\n        };\n        ApplicationBase.prototype._getPropertyArray = function (property) {\n            if (typeof property === \"string\") {\n                return property.split(\",\");\n            }\n            if (Array.isArray(property)) {\n                return property;\n            }\n            return [];\n        };\n        ApplicationBase.prototype._getEsriEnvironmentPortalUrl = function () {\n            var pathname = location.pathname;\n            var esriAppsPath = \"/apps/\";\n            var esriHomePath = \"/home/\";\n            var esriAppsPathIndex = pathname.indexOf(esriAppsPath);\n            var esriHomePathIndex = pathname.indexOf(esriHomePath);\n            var isEsriAppsPath = esriAppsPathIndex !== -1;\n            var isEsriHomePath = esriHomePathIndex !== -1;\n            var appLocationIndex = isEsriAppsPath\n                ? esriAppsPathIndex\n                : isEsriHomePath\n                    ? esriHomePathIndex\n                    : undefined;\n            if (appLocationIndex === undefined) {\n                return;\n            }\n            var portalInstance = pathname.substr(0, appLocationIndex);\n            var host = location.host;\n            return \"https://\" + host + portalInstance;\n        };\n        ApplicationBase.prototype._getEsriEnvironmentProxyUrl = function (portalUrl) {\n            if (!portalUrl) {\n                return;\n            }\n            return portalUrl + \"/sharing/proxy\";\n        };\n        ApplicationBase.prototype._getUnits = function (portal) {\n            var USRegion = \"US\";\n            var USLocale = \"en-us\";\n            var user = portal.user;\n            var userRegion = user && user.region;\n            var userUnits = user && user.units;\n            var responseUnits = portal.units;\n            var responseRegion = portal.region;\n            var ipCountryCode = portal.ipCntryCode;\n            var isEnglishUnits = userRegion === USRegion ||\n                (userRegion && responseRegion === USRegion) ||\n                (userRegion && !responseRegion) ||\n                (!user && ipCountryCode === USRegion) ||\n                (!user && !ipCountryCode && kernel.locale === USLocale);\n            var units = userUnits\n                ? userUnits\n                : responseUnits\n                    ? responseUnits\n                    : isEnglishUnits\n                        ? \"english\"\n                        : \"metric\";\n            return units;\n        };\n        ApplicationBase.prototype._queryGroupInfo = function (groupId, portal) {\n            var params = new PortalQueryParams({\n                query: \"id:\\\"\" + groupId + \"\\\"\"\n            });\n            return portal.queryGroups(params);\n        };\n        ApplicationBase.prototype._loadItem = function (id) {\n            var item = new PortalItem({\n                id: id\n            });\n            return item.load();\n        };\n        ApplicationBase.prototype._getLocalConfig = function (appid) {\n            if (!window.localStorage || !appid) {\n                return;\n            }\n            var lsItemId = \"application_base_config_\" + appid;\n            var lsItem = localStorage.getItem(lsItemId);\n            var localConfig = lsItem && JSON.parse(lsItem);\n            return localConfig;\n        };\n        ApplicationBase.prototype._overwriteItemsExtent = function (responses, applicationItem) {\n            var _this = this;\n            if (!responses) {\n                return;\n            }\n            responses.forEach(function (response) {\n                var value = response.value;\n                if (value) {\n                    _this._overwriteItemExtent(value, applicationItem);\n                }\n            });\n        };\n        ApplicationBase.prototype._overwriteItemExtent = function (item, applicationItem) {\n            if (!item || !applicationItem) {\n                return;\n            }\n            var applicationExtent = applicationItem.extent;\n            item.extent = applicationExtent ? applicationExtent : item.extent;\n        };\n        ApplicationBase.prototype._getDefaultId = function (id, defaultId) {\n            var defaultUrlParam = \"default\";\n            var trimmedId = id ? id.trim() : \"\";\n            var useDefaultId = (!trimmedId || trimmedId === defaultUrlParam) && defaultId;\n            return useDefaultId ? defaultId : id;\n        };\n        ApplicationBase.prototype._getLanguageDirection = function (rtlLocales) {\n            if (rtlLocales === void 0) { rtlLocales = [\"ar\", \"he\"]; }\n            var isRTL = rtlLocales.some(function (language) {\n                return kernel.locale.indexOf(language) !== -1;\n            });\n            return isRTL ? \"rtl\" : \"ltr\";\n        };\n        ApplicationBase.prototype._mixinAllConfigs = function (params) {\n            var config = params.config || null;\n            var appConfig = params.application || null;\n            var localConfig = params.local || null;\n            var urlConfig = params.url || null;\n            return __assign({}, config, appConfig, localConfig, urlConfig);\n        };\n        ApplicationBase.prototype._setGeometryService = function (config, portal) {\n            var configHelperServices = config.helperServices;\n            var anyPortal = portal;\n            var portalHelperServices = anyPortal && anyPortal.helperServices;\n            var configGeometryUrl = configHelperServices &&\n                configHelperServices.geometry &&\n                configHelperServices.geometry.url;\n            var portalGeometryUrl = portalHelperServices &&\n                portalHelperServices.geometry &&\n                portalHelperServices.geometry.url;\n            var geometryServiceUrl = portalGeometryUrl || configGeometryUrl;\n            if (!geometryServiceUrl) {\n                return;\n            }\n            esriConfig.geometryServiceUrl = geometryServiceUrl;\n        };\n        ApplicationBase.prototype._setPortalUrl = function (portalUrl) {\n            if (!portalUrl) {\n                return;\n            }\n            esriConfig.portalUrl = portalUrl;\n        };\n        ApplicationBase.prototype._setProxyUrl = function (proxyUrl) {\n            if (!proxyUrl) {\n                return;\n            }\n            esriConfig.request.proxyUrl = proxyUrl;\n        };\n        ApplicationBase.prototype._registerOauthInfos = function (appId, portalUrl) {\n            if (!appId) {\n                return;\n            }\n            var info = new OAuthInfo({\n                appId: appId,\n                portalUrl: portalUrl,\n                popup: true\n            });\n            if (!info) {\n                return;\n            }\n            IdentityManager.registerOAuthInfos([info]);\n        };\n        ApplicationBase.prototype._getUrlParamValues = function (urlParams) {\n            var _this = this;\n            var urlObject = this._urlToObject();\n            var formattedUrlObject = {};\n            if (!urlObject || !urlParams || !urlParams.length) {\n                return;\n            }\n            urlParams.forEach(function (param) {\n                var urlParamValue = urlObject[param];\n                if (urlParamValue) {\n                    formattedUrlObject[param] = _this._formatUrlParamValue(urlParamValue);\n                }\n            });\n            return formattedUrlObject;\n        };\n        ApplicationBase.prototype._urlToObject = function () {\n            var _this = this;\n            var query = (window.location.search || \"?\").substr(1), map = {};\n            var urlRE = /([^&=]+)=?([^&]*)(?:&+|$)/g;\n            query.replace(urlRE, function (match, key, value) {\n                map[key] = _this._stripStringTags(decodeURIComponent(value));\n                return \"\";\n            });\n            return map;\n        };\n        ApplicationBase.prototype._formatUrlParamValue = function (urlParamValue) {\n            if (typeof urlParamValue !== \"string\") {\n                return urlParamValue;\n            }\n            var lowerCaseValue = urlParamValue.toLowerCase();\n            if (lowerCaseValue === \"true\") {\n                return true;\n            }\n            if (lowerCaseValue === \"false\") {\n                return false;\n            }\n            return urlParamValue;\n        };\n        ApplicationBase.prototype._stripStringTags = function (value) {\n            var tagsRE = /<\\/?[^>]+>/g;\n            return value.replace(tagsRE, \"\");\n        };\n        ApplicationBase = __decorate([\n            declareDecorator_1.default()\n        ], ApplicationBase);\n        return ApplicationBase;\n    }());\n    return ApplicationBase;\n});\n//# sourceMappingURL=ApplicationBase.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/applicationBase/ApplicationBase.js\n// module id = 13\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/identity/OAuthInfo\"\n// module id = 14\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/_base/kernel\"\n// module id = 15\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_16__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/config\"\n// module id = 16\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_17__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/portal/PortalItem\"\n// module id = 17\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/portal/PortalQueryParams\"\n// module id = 18\n// module chunks = 0","define([\"require\", \"exports\", \"dojo/_base/declare\"], function (require, exports, declare) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    /**\n     * A decorator that converts a TypeScript class into a declare constructor.\n     * This allows declare constructors to be defined as classes, which nicely\n     * hides away the `declare([], {})` boilerplate.\n     */\n    function default_1() {\n        var mixins = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            mixins[_i] = arguments[_i];\n        }\n        return function (target) {\n            return declare(mixins, target.prototype);\n        };\n    }\n    exports.default = default_1;\n});\n//# sourceMappingURL=declareDecorator.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/applicationBase/declareDecorator.js\n// module id = 19\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/_base/declare\"\n// module id = 20\n// module chunks = 0","/// <amd-dependency path=\"esri/core/tsSupport/declareExtendsHelper\" name=\"__extends\" />\r\n/// <amd-dependency path=\"esri/core/tsSupport/decorateHelper\" name=\"__decorate\" />\r\n\r\nimport { subclass, declared, property } from \"esri/core/accessorSupport/decorators\";\r\nimport * as Widget from \"esri/widgets/Widget\";\r\nimport { renderable } from \"esri/widgets/support/widget\";\r\n\r\nimport MinimalGallery, { MinimalGalleryState, reducers } from \"./MinimalGallery\";\r\nimport { router, startHistoryListener } from \"./MinimalGallery/_utilities/router\";\r\nimport { newStore, middlewares } from \"../Component\";\r\n\r\ninterface MainAppProps {\r\n    boilerplate: __Component.Pojo;\r\n    i18n: __Component.Pojo;\r\n}\r\n\r\nconst { thunk, debug } = middlewares;\r\n\r\n@subclass(\"esri.widgets.MinimalGallery\")\r\nexport default class MainApp extends declared(Widget) {\r\n    minimalGallery: MinimalGallery;\r\n\r\n    constructor(props: MainAppProps) {\r\n        super();\r\n\r\n        this.minimalGallery = new MinimalGallery(\r\n            newStore({\r\n                reducers,\r\n                parentWidget: this,\r\n                initialState: {\r\n                    base: {\r\n                        applicationBase: props.boilerplate,\r\n                        applicationBaseResult: null,\r\n                        i18n: props.i18n,\r\n                        status: \"loading\",\r\n                        loadMessage: \"init\"\r\n                    }\r\n                },\r\n                middlewares: [ thunk, router ]\r\n            })\r\n        );\r\n\r\n        startHistoryListener(this.minimalGallery.store);\r\n    }\r\n\r\n    render() {\r\n        return this.minimalGallery.render();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/Widget.tsx","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/core/accessorSupport/decorators\"\n// module id = 22\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_23__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/widgets/Widget\"\n// module id = 23\n// module chunks = 0","import Component from \"../../Component\";\r\n\r\nimport { MinimalGalleryState } from \"./_reducers\";\r\nimport { loadApplicationBase } from \"./_actions\";\r\n\r\nimport Header from \"./Header\";\r\nimport Gallery from \"./Gallery\";\r\nimport Viewer from \"./Viewer\";\r\nimport Pager from \"./Pager\";\r\n\r\nexport { MinimalGalleryState, reducers } from \"./_reducers\";\r\n\r\ninterface ComponentState {\r\n    status: \"loading\" | \"loaded\" | \"failed\";\r\n    loadMessage: string;\r\n}\r\n\r\nexport default class MinimalGallery extends Component<MinimalGalleryState, ComponentState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n\r\n        this.state = {\r\n            status: \"loading\",\r\n            loadMessage: \"init\"\r\n        };\r\n\r\n        this.dispatch(loadApplicationBase());\r\n    }\r\n\r\n    public render() {\r\n        const tsx = this.tsx;\r\n        const i18n = this.props.base.i18n;\r\n        const status = this.props.base.status;\r\n\r\n        if (status === \"loading\") {\r\n            return (\r\n                <div>\r\n                    <div class=\"loader is-active padding-leader-3 padding-trailer-3 center-style\" key={\"loader\"}>\r\n                        <div class=\"loader-bars\" />\r\n                        <div bind={this} class=\"loader-text\">{i18n.appLoading[this.state.loadMessage]}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else if (status === \"success\") {\r\n            return (\r\n                <div>\r\n                    {\r\n                        this.props.base.applicationBaseResult.config.showHeader ?\r\n                            <Header key=\"minimal-gallery-header\" /> :\r\n                            null\r\n                    }\r\n                    <Gallery key=\"minimal-gallery\" />\r\n                    <Viewer key=\"minimal-gallery-viewer\" />\r\n                    <Pager key=\"minimal-gallery-pager\" />\r\n                </div>\r\n            );\r\n        } else if (status === \"noauth\") {\r\n            return (\r\n                <div>\r\n                    <div key=\"no-auth-container\" class=\"center-style\" style=\"padding: 1rem;\">\r\n                        <h3 key=\"no-license\">{i18n.appLoading.notLicensed}</h3>\r\n                        <p key=\"no-auth\">{i18n.appLoading.noauth}</p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div>\r\n                <h3 class=\"center-style\">{i18n.appLoading.failed}</h3>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/index.tsx","module.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/widgets/support/widget\"\n// module id = 25\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_26__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/Deferred\"\n// module id = 26\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_27__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dojo/cookie\"\n// module id = 27\n// module chunks = 0","export const UPDATE_ITEMS = \"UPDATE_ITEMS\";\r\nexport const FILTER_ITEMS = \"FILTER_ITEMS\";\r\n\r\nexport const updateItems = (items: __Component.Pojo[]) => ({\r\n    type: UPDATE_ITEMS,\r\n    payload: items\r\n});\r\n\r\nexport const filterItems = (filter: string) => ({\r\n    type: FILTER_ITEMS,\r\n    payload: filter\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_actions/items.ts","export const PUSH = \"ROUTER/PUSH\";\r\nexport const LOCATION_CHANGE = \"ROUTER/LOCATION_CHANGE\";\r\nexport const HASH_CHANGE = \"ROUTER/HASH_CHANGE\";\r\n\r\nimport { MinimalGalleryState } from \"..\";\r\n\r\nexport const push = (hash: string) => ({\r\n    type: PUSH,\r\n    payload: hash,\r\n});\r\n\r\nexport const hashChange = (hash: string) => ({\r\n    type: HASH_CHANGE,\r\n    payload: hash\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_actions/router.ts","import Component from \"../../Component\";\r\nimport { MinimalGalleryState } from \".\";\r\nimport { push } from \"./_actions\";\r\nimport { updateApplicationBase, signOut, signIn } from \"./_actions/base\";\r\n\r\ninterface ComponentState {\r\n    searchTerm: string;\r\n    mobileMenuOpen: boolean;\r\n}\r\n\r\nexport default class Header extends Component<MinimalGalleryState, ComponentState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n\r\n        this.state = {\r\n            searchTerm: this.props.filter,\r\n            mobileMenuOpen: false\r\n        };\r\n\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n        this.handleSearchChange = this.handleSearchChange.bind(this);\r\n        this.handleSignIn = this.handleSignIn.bind(this);\r\n        this.handleSignOut = this.handleSignOut.bind(this);\r\n        this.handleMenuClick = this.handleMenuClick.bind(this);\r\n    }\r\n\r\n    public render() {\r\n        const tsx = this.tsx;\r\n        const config = this.props.base.applicationBaseResult.config;\r\n\r\n        const headSearch = config.headerSearch ? (\r\n            <nav\r\n                class=\"class-top-nav-list header-nav-search\"\r\n                role=\"navigation\"\r\n                title=\"usernav\"\r\n            >\r\n                <form class=\"inline-block padding-leader-half header-search-form\" role=\"search\" onsubmit={this.handleSearch}>\r\n                    <input\r\n                        title={config.searchPlaceholder}\r\n                        type=\"search\"\r\n                        placeholder={config.searchPlaceholder}\r\n                        name=\"q\"\r\n                        value={this.state.searchTerm}\r\n                        style=\"margin-top: -1px;\"\r\n                        oninput={this.handleSearchChange}\r\n                    />\r\n                    <button type=\"submit\" class=\"hide\">{config.searchPlaceholder}</button>\r\n                </form>\r\n                <a href=\"/\" class=\"icon-ui-menu top-nav-link js-drawer-toggle\" data-drawer=\"top-nav\" onclick={this.handleMenuClick}><span class=\"phone-hide no-click\">Menu</span></a>\r\n            </nav>\r\n        ) : null;\r\n\r\n        const tabletHeadSearch = config.headerSearch ? (\r\n            <nav class=\"class-top-nav-list\" role=\"navigation\" title=\"usernav\">\r\n                <form class=\"inline-block padding-leader-half\" role=\"search\" onsubmit={this.handleSearch}>\r\n                    <input\r\n                        title={config.searchPlaceholder}\r\n                        type=\"search\"\r\n                        placeholder={config.searchPlaceholder}\r\n                        name=\"q\"\r\n                        value={this.state.searchTerm}\r\n                        style=\"margin-top: -1px;\"\r\n                        oninput={this.handleSearchChange}\r\n                    />\r\n                    <button type=\"submit\" class=\"hide\">{config.searchPlaceholder}</button>\r\n                </form>\r\n            </nav>\r\n        ) : null;\r\n\r\n        const mobileHeadSearch = config.headerSearch ? (\r\n            <form \r\n                class=\"inline-block padding-leader-half right\" \r\n                role=\"search\" \r\n                onsubmit={this.handleSearch} \r\n                onclick={(e: Event) => { e.stopPropagation(); }}\r\n            >\r\n                <input\r\n                    title={config.searchPlaceholder}\r\n                    type=\"search\"\r\n                    placeholder={config.searchPlaceholder}\r\n                    name=\"q\"\r\n                    value={this.state.searchTerm}\r\n                    style=\"margin-top: -1px;\"\r\n                    oninput={this.handleSearchChange}\r\n                />\r\n                <button type=\"submit\" class=\"hide\">{config.searchPlaceholder}</button>\r\n            </form>\r\n        ) : null;\r\n\r\n        const headImage = config.headerImage ? (\r\n            <img src={config.headerImageLocation} class=\"header-image\" alt={config.headerText} />\r\n        ) : null;\r\n\r\n        const agolLink = config.showAgolLink ? (\r\n            <a\r\n                class=\"top-nav-link\"\r\n                href={appendProtocol(config.agolLinkLocation.replace(\"${GROUP_ID}\", config.group))}\r\n                style={`color: ${config.headerTextColor}`}\r\n                title={config.agolLinkText}\r\n                target=\"_blank\"\r\n                onclick={this.agolLinkHandler}\r\n            >\r\n                {config.agolLinkText}\r\n            </a>\r\n        ) : null;\r\n\r\n        let signInLink = null;\r\n        if (\r\n            !this.props.base.applicationBase.portal[\"credential\"] &&\r\n            this.props.base.applicationBaseResult.config.showSignInBtn\r\n        ) {\r\n            signInLink = (\r\n                <button\r\n                    class=\"top-nav-btn\"\r\n                    key=\"sign-in-btn\"\r\n                    onclick={this.handleSignIn}\r\n                    style={`color: ${config.headerTextColor}`}\r\n                >\r\n                    <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"32\"\r\n                        height=\"32\"\r\n                        viewBox=\"0 0 32 32\"\r\n                        style={`\r\n                            fill: currentColor;\r\n                            pointer-events: none;\r\n                            display: inline-block;\r\n                            width: 1em;\r\n                            height: 1em;\r\n                            vertical-align: -0.15em;\r\n                            padding-right: .5em;\r\n                        `}\r\n                    >\r\n                        <path d=\"M16.005 15.871a5.872 5.872 0 0 0 0-11.742 5.87 5.87 0 1 0 0 11.742zm11.567 7.188C27.27 19.036 20.023 18 16 18c-4.012 0-11.271 1.039-11.573 5.059C4.203 26.11 4.068 28.18 4.02 30h23.96c-.047-1.82-.184-3.891-.407-6.941z\" />\r\n                    </svg>\r\n                    {this.props.base.i18n.header.signIn}\r\n                </button>\r\n            );\r\n        } else if (\r\n            this.props.base.applicationBaseResult.config.showSignInBtn &&\r\n            this.props.base.applicationBase.portal.user\r\n        ) {\r\n            signInLink = (\r\n                <button\r\n                    class=\"top-nav-btn\"\r\n                    key=\"sign-out-btn\"\r\n                    onclick={this.handleSignOut}\r\n                    style={`color: ${config.headerTextColor}`}\r\n                >\r\n                    <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"32\"\r\n                        height=\"32\"\r\n                        viewBox=\"0 0 32 32\"\r\n                        style={`\r\n                            fill: currentColor;\r\n                            pointer-events: none;\r\n                            display: inline-block;\r\n                            width: 1em;\r\n                            height: 1em;\r\n                            vertical-align: -0.15em;\r\n                            padding-right: .5em;\r\n                        `}\r\n                    >\r\n                        <path d=\"M16.005 15.871a5.872 5.872 0 0 0 0-11.742 5.87 5.87 0 1 0 0 11.742zm11.567 7.188C27.27 19.036 20.023 18 16 18c-4.012 0-11.271 1.039-11.573 5.059C4.203 26.11 4.068 28.18 4.02 30h23.96c-.047-1.82-.184-3.891-.407-6.941z\" />\r\n                    </svg>\r\n                    {`${this.props.base.i18n.header.signOut} (${this.props.base.applicationBase.portal.user.username})`}\r\n                </button>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <header class=\"top-nav fade-in\" style={`background-color: ${config.headColor}`}>\r\n                <div class=\"grid-container\">\r\n                    <div class=\"column-24\">\r\n                        <div class=\"tablet-hide\">\r\n                            <a href={appendProtocol(config.headerTextURL)} target=\"_blank\">\r\n                                {headImage}\r\n                                <a class=\"top-nav-title\" style={`color: ${config.headerTextColor}`}>\r\n                                    {config.headerText}\r\n                                </a>\r\n                            </a>\r\n                            {headSearch}\r\n                        </div>\r\n\r\n                        <div class=\"tablet-show top-nav-flex\">\r\n                            <header class=\"top-nav-flex-title\">\r\n                                <a href={appendProtocol(config.headerTextURL)}>\r\n                                    <a class=\"top-nav-title\" style={`color: ${config.headerTextColor}`}>\r\n                                        {config.headerText}\r\n                                    </a>\r\n                                </a>\r\n                            </header>\r\n                            <span class=\"phone-hide\">{tabletHeadSearch}</span>\r\n                            <nav class=\"top-nav-flex-list\" role=\"navigation\" aria-labelledby=\"topnav\">\r\n                                <a href=\"/\" class=\"icon-ui-menu top-nav-link js-drawer-toggle\" data-drawer=\"top-nav\" onclick={this.handleMenuClick}><span class=\"phone-hide no-click\">`${this.props.base.i18n.header.menu}`</span></a>\r\n                            </nav>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"drawer drawer-right js-drawer\" data-drawer=\"top-nav\" tabindex=\"0\">\r\n                <nav class=\"drawer-nav\" role=\"navigation\">\r\n                    <aside class=\"side-nav\">\r\n                        <ul class=\"drawer-block-list\">\r\n                            <li><span class=\"phone-show\">{mobileHeadSearch}</span></li>\r\n                            <li>{agolLink}</li>\r\n                            <li>{signInLink}</li> \r\n                        </ul>\r\n                    </aside>\r\n                </nav>\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n\r\n    public componentWillReceiveProps(nextProps: MinimalGalleryState) {\r\n        if (nextProps.filter !== this.state.searchTerm) {   // Set search term based on URL param\r\n            this.setState({ searchTerm: nextProps.filter });\r\n        }\r\n    }\r\n\r\n    private handleSearch(e?: Event) {\r\n        if (e) {\r\n            e.stopPropagation();\r\n        }\r\n        const query = this.state.searchTerm.length > 0 ? `query=${this.state.searchTerm}` : \"\";\r\n        this.dispatch(push(`${query}`));\r\n    }\r\n\r\n    private handleSearchChange(e: any) {\r\n        if (e) {\r\n            e.stopPropagation();\r\n        }\r\n        this.setState({\r\n            searchTerm: e.target.value\r\n        });\r\n        if (e.target.value === \"\") {\r\n            this.handleSearch();\r\n        }\r\n    }\r\n\r\n    private handleSignIn() {\r\n        this.dispatch(signIn());\r\n    }\r\n\r\n    private handleSignOut() {\r\n        this.dispatch(signOut());\r\n    }\r\n\r\n    private agolLinkHandler(e: Event) {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    private handleMenuClick(e: any) {\r\n        // prevent default\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        // show/hide nav\r\n        const option = e.target.dataset.drawer;\r\n        const drawer = document.querySelector(`.js-drawer[data-drawer=\"${option}\"]`);\r\n        const html = document.querySelector(\"html\");\r\n\r\n        // toggle state\r\n        this.setState({\r\n            mobileMenuOpen: !this.state.mobileMenuOpen\r\n        });\r\n\r\n        console.log(\"New State: \", this.state.mobileMenuOpen)\r\n        console.log(e.target)\r\n\r\n        // open it\r\n        if (this.state.mobileMenuOpen) {\r\n            console.log(drawer, html)\r\n            if ( !!drawer ) {\r\n                drawer.setAttribute(\"tabindex\", \"0\");\r\n                drawer.classList.add(\"is-active\");\r\n                drawer.addEventListener( \"click\", this.handleMenuClick);\r\n            }\r\n            if (!!html) {\r\n                html.classList.add(\"overflow-hidden\");\r\n            }\r\n        } else {\r\n        // close it\r\n            if (drawer) {\r\n                drawer.removeAttribute(\"tabindex\");\r\n                drawer.classList.remove(\"is-active\");\r\n                drawer.removeEventListener( \"click\", this.handleMenuClick);\r\n            }\r\n            if (!!html) {\r\n                setTimeout(() => {\r\n                    html.classList.remove(\"overflow-hidden\");\r\n                },         300);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction appendProtocol(location: string) {\r\n    if (location.indexOf(\"http\") === 0) {\r\n        return location;\r\n    }\r\n    return `http://${location}`;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Header.tsx","import * as ioQuery from \"dojo/io-query\";\r\nimport Component, { middlewares } from \"../../../Component\";\r\nimport Panel, { PanelState, reducers } from \"./Panel\";\r\nimport { SHOW_IN_VIEWER, SHOW_FULLSCREEN, VIEWER_CHANGE } from \"./Panel/_actions\";\r\nimport { push } from \"../_actions\";\r\nimport { MinimalGalleryState } from \"..\";\r\nimport supportedItemTypes from \"../_utilities/supportedItemTypes\";\r\n\r\nconst { addListener } = middlewares;\r\n\r\ninterface ComponentState {\r\n    itemPages: __Component.Pojo[][];\r\n}\r\n\r\nexport default class Gallery extends Component<MinimalGalleryState, ComponentState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n\r\n        const itemsPerPage = this.props.base.applicationBaseResult.config.itemsPerPage;\r\n        this.state = {\r\n            itemPages: splitToPages(this.props.items.filteredItems, itemsPerPage)\r\n        };\r\n\r\n        this.mapItemsToChildren = this.mapItemsToChildren.bind(this);\r\n        this.handleChildUpdate = this.handleChildUpdate.bind(this);\r\n        this.showInViewer = this.showInViewer.bind(this);\r\n    }\r\n\r\n    public render() {\r\n        const tsx = this.tsx;\r\n\r\n        if (this.props.viewer.fullscreen) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <div\r\n                class=\"grid-container padding-leader-1 full-width-grid-container\"\r\n                style={`background-color: ${this.props.base.applicationBaseResult.config.bgColor};`}\r\n            >\r\n                <div class=\"column-24 full-width-grid\">\r\n                    <div class=\"padding-leader-1 block-group block-group-5-up tablet-block-group-3-up phone-block-group-1-up\">\r\n                        {this.mapItemsToChildren()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    public componentWillReceiveProps(nextProps: MinimalGalleryState) {\r\n        if (nextProps.items.displayKey !== this.props.items.displayKey) {\r\n            const itemsPerPage = this.props.base.applicationBaseResult.config.itemsPerPage;\r\n            this.setState({\r\n                itemPages: splitToPages(nextProps.items.filteredItems, itemsPerPage)\r\n            });\r\n        }\r\n\r\n        if (nextProps.router.hash !== this.props.router.hash) {\r\n            const currentViewer = ioQuery.queryToObject(this.props.router.hash).viewer;\r\n            const nextViewer = ioQuery.queryToObject(nextProps.router.hash).viewer;\r\n            if (currentViewer !== nextViewer) {\r\n                for (let child in this.childComponents) {\r\n                    if (this.childComponents.hasOwnProperty(child)) {\r\n                        this.childComponents[child].store.dispatch({\r\n                            type: VIEWER_CHANGE,\r\n                            payload: nextViewer\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private mapItemsToChildren() {\r\n        const tsx = this.tsx;\r\n\r\n        const displayItems = this.state.itemPages[this.props.page - 1];\r\n\r\n        this.childComponents = displayItems.reduce((result: __Component.Pojo, item: __Component.Pojo) => {\r\n            if (this.childComponents[item.id]) {\r\n                result[item.id] = this.childComponents[item.id];\r\n            }\r\n            return result;\r\n        }, {});\r\n\r\n        return displayItems.map(\r\n            (item) => {\r\n                if (item.type === \"Dashboard\") {\r\n                    item.url = `${item.portal.url}/apps/opsdashboard/index.html#/${item.id}`;\r\n                }\r\n                return (\r\n                    <Panel\r\n                        key={item.id}\r\n                        store={{\r\n                            reducers,\r\n                            initialState: {\r\n                                applicationBaseResult: this.props.base.applicationBaseResult,\r\n                                i18n: this.props.base.i18n,\r\n                                item,\r\n                                itemType: supportedItemTypes[item.type],\r\n                                portal: this.props.base.applicationBase.portal\r\n                            },\r\n                            middlewares: [ addListener(this.handleChildUpdate) ]\r\n                        }}\r\n                    />\r\n                );\r\n            }\r\n        );\r\n    }\r\n\r\n    private handleChildUpdate(action: { type: string, payload?: any }, childState: PanelState) {\r\n        switch (action.type) {\r\n            case SHOW_IN_VIEWER:\r\n                this.showInViewer(childState.item.id);\r\n                break;\r\n            case SHOW_FULLSCREEN:\r\n                this.showFullscreen(childState.item.id);\r\n                break;\r\n            default: //\r\n        }\r\n    }\r\n\r\n    private showInViewer(itemId: string) {\r\n        const { hash } = this.props.router;\r\n        const hashParams = ioQuery.queryToObject(hash);\r\n        hashParams.viewer = itemId;\r\n        this.dispatch(push(ioQuery.objectToQuery(hashParams)));\r\n    }\r\n\r\n    private showFullscreen(itemId: string) {\r\n        const { hash } = this.props.router;\r\n        const hashParams = ioQuery.queryToObject(hash);\r\n        hashParams.viewer = itemId;\r\n        hashParams.fullscreen = true;\r\n        this.dispatch(push(ioQuery.objectToQuery(hashParams)));\r\n    }\r\n}\r\n\r\nfunction splitToPages(items: __Component.Pojo, perPage: number) {\r\n    return items.reduce((result: __Component.Pojo[][], item: __Component.Pojo) => {\r\n        if (result[result.length - 1].length < perPage) {\r\n            result[result.length - 1].push(item);\r\n        } else {\r\n            result.push([item]);\r\n        }\r\n        return result;\r\n    }, [[]]);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Gallery/index.tsx","import Component from \"../../../../Component\";\r\nimport Caption from \"./Caption\";\r\n\r\nimport { showInViewer, showFullscreen, mouseOver, mouseOut } from \"./_actions\";\r\n\r\nimport { PanelState } from \"./_reducers\";\r\nexport { PanelState, reducers } from \"./_reducers\";\r\n\r\ninterface ComponentState {\r\n  panelType: string;\r\n  itemLink?: HTMLElement;\r\n}\r\n\r\nexport default class Panel extends Component<PanelState, ComponentState> {\r\n  constructor(store: __Component.Store) {\r\n    super(store);\r\n\r\n    this.state = {\r\n      panelType: this.props.getPanelType(this.props.item.type),\r\n    };\r\n\r\n    this.handleMouseOver = this.handleMouseOver.bind(this);\r\n    this.handleMouseOut = this.handleMouseOut.bind(this);\r\n    this.handleItemKeyPress = this.handleItemKeyPress.bind(this);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.handleMaxClick = this.handleMaxClick.bind(this);\r\n    this.registerItemLink = this.registerItemLink.bind(this);\r\n  }\r\n\r\n  public render() {\r\n    const tsx = this.tsx;\r\n    const i18n = this.props.i18n;\r\n    const config = this.props.applicationBaseResult.config;\r\n\r\n    const author = config.showAuthor ? (\r\n      <p class=\"font-size--1 card-last hug-bottom author-text\" key={`${this.props.item.title}-author`}>\r\n        {this.props.item.owner}\r\n      </p>\r\n    ) : null;\r\n\r\n    let tooltipSnippet;\r\n    if (config.showSummaryTooltip) {\r\n      tooltipSnippet = this.props.item.snippet ? this.props.item.snippet : null;\r\n      if (tooltipSnippet && tooltipSnippet.length > config.tooltipTruncLength) {\r\n        tooltipSnippet = tooltipSnippet.slice(0, config.tooltipTruncLength) + \"...\";\r\n      }\r\n    }\r\n\r\n    let cardSnippet;\r\n    let summaryElement;\r\n    if (config.showItemSummary) {\r\n      cardSnippet = this.props.item.snippet ? this.props.item.snippet : null;\r\n      if (cardSnippet && cardSnippet.length > config.summaryTruncLength) {\r\n        cardSnippet = cardSnippet.slice(0, config.summaryTruncLength) + \"...\";\r\n      }\r\n      summaryElement = <p class=\"item-description-text\">{cardSnippet}</p>;\r\n    }\r\n\r\n    let itemPageLink;\r\n    if (config.showItemPageLink) {\r\n      itemPageLink = (\r\n        <a\r\n          class=\"open-out-icon btn btn-transparent toolbar-tooltip\"\r\n          aria-label={tooltipSnippet ? tooltipSnippet : i18n.ui.itemExtTip}\r\n          href={`${this.props.applicationBaseResult.portal.url}/home/item.html?id=${this.props.item.id}`}\r\n          style={`color: ${config.buttonBgColor}`}\r\n          key={`${this.props.item.title}-info-icon`}\r\n          tabindex=\"0\"\r\n          target={this.props.applicationBaseResult.config.openItemDetailsSeparateTab ? \"_blank\" : \"\"}\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"32\"\r\n            height=\"32\"\r\n            viewBox=\"0 0 32 32\"\r\n            style={`\r\n                            fill: #0079c1;\r\n                            pointer-events: none;\r\n                            display: inline-block;\r\n                            width: 1em;\r\n                            height: 1em;\r\n                            vertical-align: -0.15em;\r\n                            padding-right: .15em;\r\n                        `}\r\n          >\r\n            <path\r\n              d=\"M31.297 16.047c0 8.428-6.826 15.25-15.25 15.25S.797 24.475.797 16.047c0-8.424 6.826-15.25 15.25-15.25s15.25 6.826 15.25 15.25zM18 24V12h-4v12h-2v2h8v-2h-2zm0-18h-4v4h4V6z\"\r\n            />\r\n          </svg>\r\n        </a>\r\n      );\r\n    }\r\n\r\n    let maxLink;\r\n\r\n    if (this.props.itemType !== \"file\" && !config.alwaysOpenFullscreen) {\r\n      maxLink = (\r\n        <a\r\n          class=\"open-out-icon btn btn-transparent toolbar-tooltip\"\r\n          aria-label={i18n.ui[`${this.state.panelType}ExtTip`]}\r\n          style={`color: ${config.buttonBgColor}`}\r\n          key={`${this.props.item.title}-open-out-icon`}\r\n          href={\r\n            this.props.itemType === \"webapp\" ?\r\n              this.props.item.url :\r\n              `${window.location.origin}${window.location.pathname}${window.location.search}#viewer=${this.props.item.id}&fullscreen=true`\r\n\r\n          }\r\n          target={this.props.applicationBaseResult.config.openFullscreenSeparateTab ? \"_blank\" : \"\"}\r\n          tabindex=\"0\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"32\"\r\n            height=\"32\"\r\n            viewBox=\"0 0 32 32\"\r\n            style={`\r\n                            fill: #0079c1;\r\n                            pointer-events: none;\r\n                            display: inline-block;\r\n                            width: 1em;\r\n                            height: 1em;\r\n                            vertical-align: -0.15em;\r\n                            padding-right: .15em;\r\n                        `}\r\n          >\r\n            <path d=\"M2 4v24h28V4H2zm26 22H4V10h24v16z\" />\r\n          </svg>\r\n        </a>\r\n      );\r\n    }\r\n\r\n    let mainTip = this.props.itemType === \"file\" ? i18n.ui.itemExtTip :\r\n      (config.alwaysOpenFullscreen ? i18n.ui[`${this.state.panelType}ExtTip`] : i18n.ui.galleryTip);\r\n    if (this.props.item.type === \"PDF\") {\r\n      mainTip = i18n.ui.pdfTip;\r\n    } else if (\r\n      this.props.item.type === \"Document Link\" &&\r\n      this.props.applicationBaseResult.config.openDocumentLinksDirectly\r\n    ) {\r\n      mainTip = i18n.ui.documentTip;\r\n    }\r\n\r\n    let title;\r\n    if (config.showItemTitle) {\r\n      title = (\r\n        <a\r\n          title={mainTip}\r\n          style={`color: ${config.linkColor}`}\r\n          class=\"break-word\"\r\n          onclick={this.handleItemClick}\r\n          onkeypress={this.handleItemKeyPress}\r\n        >\r\n          <h5 tabindex=\"0\" class=\"clickable\">\r\n            {this.props.item.title}\r\n          </h5>\r\n        </a>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        class=\"card block trailer-1 animate-fade-in card-fade\"\r\n        style={`background-color: ${config.cardColor}; z-index: 1`}\r\n        key={`${this.props.item.id}-div`}\r\n      >\r\n        <figure class=\"card-image-wrap\">\r\n          <a\r\n            title={mainTip}\r\n            role=\"link\"\r\n            tabindex=\"0\"\r\n            onclick={this.handleItemClick}\r\n            onkeypress={this.handleItemKeyPress}\r\n            afterCreate={this.registerItemLink}\r\n          >\r\n            <img\r\n              key={`${this.props.item.id}-thumbnail`}\r\n              class=\"card-image clickable thumbnail-min\"\r\n              src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n              alt={this.props.item.title}\r\n              onmouseover={this.handleMouseOver}\r\n              onmouseout={this.handleMouseOut}\r\n              style={`\r\n                                background-image: url(${this.props.item.thumbnailUrl});\r\n                                background-repeat: no-repeat;\r\n                                background-size: cover;\r\n                            `}\r\n            />\r\n          </a>\r\n          <Caption key=\"card-caption\" />\r\n        </figure>\r\n        <div class=\"card-content\" style={`color: ${config.fontColor}`}>\r\n          {title}\r\n          {summaryElement}\r\n          {author}\r\n          <div class=\"open-out-container\">\r\n            {itemPageLink}\r\n            {maxLink}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: PanelState) {\r\n    if (\r\n      !nextProps.activeViewer &&\r\n      this.props.activeViewer &&\r\n      this.state.itemLink &&\r\n      this.props.activeViewer === this.props.item.id\r\n    ) {\r\n      this.state.itemLink.focus();\r\n    }\r\n  }\r\n\r\n  private registerItemLink(itemLink: HTMLElement) {\r\n    this.setState({ itemLink });\r\n  }\r\n\r\n  private handleMouseOver() {\r\n    this.dispatch(mouseOver());\r\n  }\r\n\r\n  private handleMouseOut() {\r\n    this.dispatch(mouseOut());\r\n  }\r\n\r\n  private handleItemKeyPress(e: KeyboardEvent) {\r\n    if (e.key === \"Enter\") {\r\n      this.handleItemClick();\r\n    }\r\n  }\r\n\r\n  private handleItemClick() {\r\n    if (\r\n      this.props.item.type === \"Document Link\" &&\r\n      this.props.applicationBaseResult.config.openDocumentLinksDirectly\r\n    ) {\r\n      window.open(this.props.item.url);\r\n    } else if (this.props.item.type === \"PDF\") {\r\n      window.open(\r\n        `${this.props.item.itemUrl}/data${\r\n        this.props.portal[\"credential\"] ?\r\n          `?token=${this.props.portal[\"credential\"].token}` : \"\"\r\n        }`\r\n      );\r\n    } else if (this.props.itemType === \"file\") {\r\n      window.open(\r\n        `${this.props.applicationBaseResult.portal.url}/home/item.html?id=${this.props.item.id}`,\r\n        \"_blank\"\r\n      );\r\n    } else {\r\n      if (this.props.applicationBaseResult.config.alwaysOpenFullscreen) {\r\n        this.handleMaxClick();\r\n      } else {\r\n        this.dispatch(showInViewer());\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleMaxClick() {\r\n    if (this.props.applicationBaseResult.config.openFullscreenSeparateTab) {\r\n      if (this.props.itemType === \"webapp\") {\r\n        window.open(this.props.item.url, \"_blank\");\r\n      } else {\r\n        window.open(\r\n          `${window.location.origin}${window.location.pathname}${window.location.search}#viewer=${this.props.item.id}&fullscreen=true`,\r\n          \"_blank\"\r\n        );\r\n      }\r\n    } else {\r\n      if (this.props.itemType === \"webapp\") {\r\n        window.location.href = this.props.item.url;\r\n      } else {\r\n        this.dispatch(showFullscreen());\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Gallery/Panel/index.tsx","import Component from \"../../../../Component\";\r\nimport { PanelState } from \".\";\r\n\r\ninterface ComponentState {\r\n    captionBelowOpacity: number;\r\n    captionOpacity: number;\r\n    captionTransform: number;\r\n    panelType: string;\r\n}\r\n\r\nexport default class Caption extends Component<PanelState, ComponentState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n\r\n        this.state = {\r\n            captionBelowOpacity: 0.8,\r\n            captionOpacity: 1,\r\n            captionTransform: 0,\r\n            panelType: this.props.getPanelType(this.props.item.type)\r\n        };\r\n    }\r\n\r\n    public render() {\r\n        const tsx = this.tsx;\r\n        const config = this.props.applicationBaseResult.config;\r\n\r\n        if (config.showItemType) {\r\n            if (config.itemTypeBelowThumbnail) {\r\n                return (\r\n                    <div\r\n                        class=\"card-below-image-caption\"\r\n                        style={`\r\n                            opacity: ${this.state.captionBelowOpacity};\r\n                            background-color: ${convertHex(config[`${this.state.panelType}CaptionColor`], 80)};\r\n                            color: ${config.captionTextColor};\r\n                        `}\r\n                    >\r\n                        {this.props.item.displayName}\r\n                    </div>\r\n                );\r\n            } else {\r\n                return (\r\n                    <div\r\n                        class=\"card-image-caption\"\r\n                        style={`\r\n                            opacity: ${this.state.captionOpacity};\r\n                            transform: translate(0, ${this.state.captionTransform}%);\r\n                            background-color: ${convertHex(config[`${this.state.panelType}CaptionColor`], 80)};\r\n                            color: ${config.captionTextColor};\r\n                        `}\r\n                    >\r\n                        {this.props.item.displayName}\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public componentWillReceiveProps(nextProps: PanelState) {\r\n        if (nextProps.hovering !== this.props.hovering) {\r\n            this.setState({\r\n                captionBelowOpacity: nextProps.hovering ? 1 : 0.8,\r\n                captionOpacity: nextProps.hovering ? 0 : 1,\r\n                captionTransform: nextProps.hovering ? 100 : 0\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nfunction convertHex( hex: string, opacity: number ) {\r\n    hex = hex.replace(\"#\", \"\");\r\n    const r = parseInt(hex.substring(0, 2), 16);\r\n    const g = parseInt(hex.substring(2, 4), 16);\r\n    const b = parseInt(hex.substring(4, 6), 16);\r\n    const result = `rgba(${r},${g},${b},${opacity / 100})`;\r\n    return result;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Gallery/Panel/Caption.tsx","import { combineReducers } from \"../../../../../Component\";\r\nimport { MOUSE_OVER, MOUSE_OUT, VIEWER_CHANGE } from \"../_actions\";\r\n\r\nexport interface PanelState {\r\n  applicationBaseResult: __esriApplicationBase.ApplicationConfig;\r\n  i18n: __Component.Pojo;\r\n  item: __Component.Pojo;\r\n  hovering: boolean;\r\n  getPanelType: (itemType: string) => string;\r\n  itemType: string;\r\n  portal: __esri.Portal;\r\n  activeViewer?: string;\r\n}\r\n\r\nconst applicationBaseResult = (state: __esriApplicationBase.ApplicationConfig = {}) => state;\r\nconst i18n = (state: __Component.Pojo = {}) => state;\r\nconst item = (state: __Component.Pojo = {}) => state;\r\nconst itemType = (state: string = \"file\") => state;\r\nconst portal = (state: __Component.Pojo = {}) => state;\r\n\r\nconst getPanelType = (\r\n  state: (itemType: string) => string = (type: string) => {\r\n    const recognizedTypes = {\r\n      \"Web Mapping Application\": \"app\",\r\n      \"Web Map\": \"map\",\r\n      \"Web Scene\": \"scene\",\r\n      \"Dashboard\": \"app\",\r\n      \"Application\": \"app\",\r\n      \"StoryMap\": \"app\"\r\n    };\r\n    if (recognizedTypes[type]) { return recognizedTypes[type]; }\r\n    return \"file\";\r\n  }\r\n) => state;\r\n\r\nconst hovering = (state: boolean = false, action: { type: string, payload: any }) => {\r\n  switch (action.type) {\r\n    case MOUSE_OVER:\r\n      return true;\r\n    case MOUSE_OUT:\r\n      return false;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst activeViewer = (state: string, action: { type: string, payload: any }) => {\r\n  switch (action.type) {\r\n    case VIEWER_CHANGE:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const reducers = combineReducers({\r\n  applicationBaseResult,\r\n  i18n,\r\n  item,\r\n  hovering,\r\n  getPanelType,\r\n  itemType,\r\n  activeViewer,\r\n  portal\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Gallery/Panel/_reducers/index.ts","import * as ioQuery from \"dojo/io-query\";\r\nimport Component from \"../../../Component\";\r\nimport { push } from \"../_actions\";\r\n\r\nimport { MinimalGalleryState } from \"..\";\r\nimport { AppView, MapView, SceneView } from \"./View\";\r\nimport convertHex from \"../_utilities/convertHex\";\r\nimport supportedItemTypes from \"../_utilities/supportedItemTypes\";\r\n\r\ninterface ComponentState {\r\n    containerClasses: {\r\n        \"animate-fade-in\": boolean;\r\n        \"animate-fade-out\": boolean;\r\n    };\r\n    scrollY: number;\r\n}\r\n\r\nexport default class Viewer extends Component<MinimalGalleryState, ComponentState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n\r\n        this.state = {\r\n            containerClasses: {\r\n                \"animate-fade-in\": true,\r\n                \"animate-fade-out\": false\r\n            },\r\n            scrollY: 0\r\n        };\r\n\r\n        this.handleExitKeyPress = this.handleExitKeyPress.bind(this);\r\n        this.handleExitClick = this.handleExitClick.bind(this);\r\n        this.closeViewer = this.closeViewer.bind(this);\r\n    }\r\n\r\n    public render() {\r\n        const tsx = this.tsx;\r\n        const i18n = this.props.base.i18n;\r\n        const config = this.props.base.applicationBaseResult.config;\r\n        const item = this.props.items.viewerItem;\r\n\r\n        if (this.props.viewer.visible && !!item.id) {\r\n            const viewType = supportedItemTypes[item.type];\r\n            let view;\r\n            if (viewType === \"webmap\") {\r\n                view = <MapView key={item.id} />;\r\n            } else if (viewType === \"webscene\") {\r\n                view = <SceneView key={item.id} />;\r\n            } else if (viewType === \"webapp\") {\r\n                view = <AppView key={item.id} />;\r\n            } else {\r\n                return null;\r\n            }\r\n\r\n            if (this.props.viewer.fullscreen) {\r\n                return (\r\n                    <div id=\"map-container\" class=\"map-container fullscreen\" key={`map-container-fullscreen-${item.id}`}>\r\n                        {view}\r\n                    </div>\r\n                );\r\n            }\r\n            return (\r\n                <div\r\n                    id=\"view-container\"\r\n                    key=\"view-container\"\r\n                    classes={this.state.containerClasses}\r\n                    style={`background-color: ${convertHex(config.bgColor, 85)};`}\r\n                >\r\n                    <div id=\"map-container\" class=\"map-container\" key={`map-container-${item.id}`}>\r\n                        {view}\r\n                    </div>\r\n                    <button\r\n                        class=\"btn btn-clear view-exit-button clickable\"\r\n                        onclick={this.handleExitClick}\r\n                        onkeypress={this.handleExitKeyPress}\r\n                        title={i18n.ui.close}\r\n                        afterCreate={this.focus}\r\n                    >\r\n                        <span class=\"view-exit-icon\">\r\n                            <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                width=\"32\"\r\n                                height=\"32\"\r\n                                viewBox=\"0 0 32 32\"\r\n                            >\r\n                                <path\r\n                                    d=\"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z\"\r\n                                />\r\n                            </svg>\r\n                        </span>\r\n                    </button>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public componentWillReceiveProps(nextProps: MinimalGalleryState) {\r\n        if (!this.props.viewer.visible && nextProps.viewer.visible) {\r\n            this.setState({ scrollY: window.scrollY });\r\n        }\r\n        if (this.props.viewer.visible && !nextProps.viewer.visible) {\r\n            this.childComponents = {};\r\n        }\r\n    }\r\n\r\n    private focus(el: HTMLElement) {\r\n        setTimeout(() => {\r\n            el.focus();\r\n        }, 10);\r\n    }\r\n\r\n    private handleExitKeyPress(e: KeyboardEvent) {\r\n        if (e.key === \"Enter\") {\r\n            this.handleExitClick();\r\n        }\r\n    }\r\n\r\n    private handleExitClick() {\r\n        this.setState({\r\n            containerClasses: {\r\n                \"animate-fade-in\": false,\r\n                \"animate-fade-out\": true\r\n            }\r\n        });\r\n        setTimeout(() => {\r\n            this.closeViewer();\r\n            this.setState({\r\n                containerClasses: {\r\n                    \"animate-fade-in\": true,\r\n                    \"animate-fade-out\": false\r\n                }\r\n            });\r\n        }, 750);\r\n    }\r\n\r\n    private closeViewer() {\r\n        const { hash } = this.props.router;\r\n        const hashParams = ioQuery.queryToObject(hash);\r\n        delete hashParams.viewer;\r\n        this.dispatch(push(ioQuery.objectToQuery(hashParams)));\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Viewer/index.tsx","export { MapView } from \"./MapView\";\r\nexport { AppView } from \"./AppView\";\r\nexport { SceneView } from \"./SceneView\";\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Viewer/View/index.tsx","import Component from \"../../../../Component\";\r\nimport { MinimalGalleryState } from \"../..\";\r\n\r\nimport ViewBase, { reducers } from \"./ViewBase\";\r\n\r\nexport class MapView extends Component<MinimalGalleryState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n    }\r\n\r\n    render() {\r\n        const tsx = this.tsx;\r\n        const config = this.props.base.applicationBaseResult.config;\r\n\r\n        return (\r\n            <ViewBase\r\n                key=\"map-view\"\r\n                store={{\r\n                    reducers,\r\n                    initialState: {\r\n                        config,\r\n                        i18n: this.props.base.i18n,\r\n                        id: this.props.items.viewerItem.id,\r\n                        widgets: Object.keys(config)\r\n                            .filter((key: string) => key.indexOf(\"Widget\") !== -1)\r\n                            .reduce((result: __Component.Pojo, key: string) => {\r\n                                return { ...result, [key]: config[key] };\r\n                            }, {}),\r\n                        viewModule: \"esri/views/MapView\",\r\n                        webModule: \"esri/WebMap\",\r\n                        containerId: \"map-container\"\r\n                    }\r\n                }}\r\n            />\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Viewer/View/MapView.tsx","/** All state params must be provided to view */\r\nexport interface ViewState {\r\n    config: __Component.Pojo;\r\n    i18n: __Component.Pojo;\r\n    id: string;\r\n    widgets: {\r\n        [propName: string]: string;\r\n    };\r\n    viewModule: string;\r\n    webModule: string;\r\n    containerId: string;\r\n}\r\n\r\nconst initialState = {\r\n    config: {},\r\n    i18n: {},\r\n    id: \"\",\r\n    widgets: {},\r\n    viewModule: \"\",\r\n    webModule: \"\",\r\n    containerId: \"map-container\"\r\n};\r\n\r\nexport const reducers = (state: ViewState = initialState, action: __Component.Action) => state;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Viewer/View/ViewBase/_reducers/index.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_39__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/core/requireUtils\"\n// module id = 39\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_40__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"esri/widgets/Expand\"\n// module id = 40\n// module chunks = 0","import Component from \"../../../../Component\";\r\nimport { MinimalGalleryState } from \"../..\";\r\n\r\nexport class AppView extends Component<MinimalGalleryState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n    }\r\n\r\n    render() {\r\n        const tsx = this.tsx;\r\n\r\n        return (\r\n            <iframe\r\n                src={this.props.items.viewerItem.url}\r\n                class=\"app-frame\"\r\n                id=\"embedded-mapping-application-iframe\"\r\n                name=\"nested-iframe\"\r\n            >\r\n                <h3 class=\"center-style\">{this.props.base.i18n.viewLoading.iframe}</h3>\r\n            </iframe>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Viewer/View/AppView.tsx","import Component from \"../../../../Component\";\r\nimport { MinimalGalleryState } from \"../..\";\r\n\r\nimport ViewBase, { reducers } from \"./ViewBase\";\r\n\r\nexport class SceneView extends Component<MinimalGalleryState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n    }\r\n\r\n    render() {\r\n        const tsx = this.tsx;\r\n        const config = this.props.base.applicationBaseResult.config;\r\n\r\n        return (\r\n            <ViewBase\r\n                key=\"map-view\"\r\n                store={{\r\n                    reducers,\r\n                    initialState: {\r\n                        config,\r\n                        i18n: this.props.base.i18n,\r\n                        id: this.props.items.viewerItem.id,\r\n                        widgets: Object.keys(config)\r\n                            .filter((key: string) => key.indexOf(\"Widget\") !== -1)\r\n                            .reduce((result: __Component.Pojo, key: string) => {\r\n                                return { ...result, [key]: config[key] };\r\n                            }, {}),\r\n                        viewModule: \"esri/views/SceneView\",\r\n                        webModule: \"esri/WebScene\",\r\n                        containerId: \"map-container\"\r\n                    }\r\n                }}\r\n            />\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Viewer/View/SceneView.tsx","export default (hex: string, opacity: number) => {\r\n    hex = hex.replace(\"#\", \"\");\r\n    const r = parseInt(hex.substring(0, 2), 16);\r\n    const g = parseInt(hex.substring(2, 4), 16);\r\n    const b = parseInt(hex.substring(4, 6), 16);\r\n    const result = `rgba(${r},${g},${b},${opacity / 100})`;\r\n    return result;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_utilities/convertHex.ts","import * as ioQuery from \"dojo/io-query\";\r\nimport Component from \"../../Component\";\r\nimport { MinimalGalleryState } from \".\";\r\nimport { push } from \"./_actions\";\r\n\r\nexport default class Pager extends Component<MinimalGalleryState> {\r\n    constructor(store: __Component.Store) {\r\n        super(store);\r\n\r\n        this.handleNext = this.handleNext.bind(this);\r\n        this.handlePrevious = this.handlePrevious.bind(this);\r\n        this.handlePageButton = this.handlePageButton.bind(this);\r\n        this.handlePage = this.handlePage.bind(this);\r\n    }\r\n\r\n    public render() {\r\n        const tsx = this.tsx;\r\n        const config = this.props.base.applicationBaseResult.config;\r\n        const displayItems = this.props.items.filteredItems;\r\n\r\n        const pages = Math.ceil(displayItems.length / config.itemsPerPage);\r\n        //No pager rendered if only a single page\r\n        if (pages <= 1) {\r\n            return;\r\n        }\r\n\r\n        const prevButtonClasses = {\r\n            \"btn\": true,\r\n            \"btn-disabled\": this.props.page <= 1,\r\n            \"btn-transparent\": true\r\n        };\r\n\r\n        const nextButtonClasses = {\r\n            \"btn\": true,\r\n            \"btn-arrow\": true,\r\n            \"btn-disabled\": this.props.page >= pages,\r\n            \"btn-transparent\": true\r\n        };\r\n\r\n        const pageButtons = Array.apply(null, Array(pages)).map((v: any, i: number) => {\r\n            const isActive = this.props.page === i + 1;\r\n            return (\r\n                <a\r\n                    id={`page-${i + 1}-button`}\r\n                    title={`page-${i + 1}`}\r\n                    class={`btn${!isActive ? \" btn-transparent\" : \"\"}`}\r\n                    onclick={this.handlePageButton}\r\n                    role=\"link\"\r\n                    tabindex=\"0\"\r\n                    style={`\r\n                        color: ${isActive ? config.buttonTextColor : config.buttonBgColor};\r\n                        background-color: ${isActive ? config.buttonBgColor : null};\r\n                        border: ${isActive ? `1px solid ${config.buttonBgColor}` : \"none\"}\r\n                    `}\r\n                    key={`page-button-${i + 1}-${this.props.items.displayKey}`}\r\n                >\r\n                    {i + 1}\r\n                </a>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div class=\"text-center padding-trailer-1 padding-leader-1 pager-class\" key=\"pager\">\r\n                <a\r\n                    id=\"previous\"\r\n                    title=\"previous\"\r\n                    classes={prevButtonClasses}\r\n                    role=\"link\"\r\n                    tabindex=\"0\"\r\n                    style={`color:${config.buttonBgColor};`}\r\n                    key=\"previous-button\"\r\n                    onclick={this.handlePrevious}\r\n                >\r\n                    Previous\r\n                </a>\r\n                    {pageButtons}\r\n                <a\r\n                    id=\"next\"\r\n                    title=\"next\"\r\n                    classes={nextButtonClasses}\r\n                    role=\"link\"\r\n                    tabindex=\"0\"\r\n                    style={`color:${config.buttonBgColor};`}\r\n                    key=\"next-button\"\r\n                    onclick={this.handleNext}\r\n                >\r\n                    Next\r\n                </a>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private handleNext() {\r\n        this.handlePage(this.props.page + 1);\r\n    }\r\n\r\n    private handlePrevious() {\r\n        this.handlePage(this.props.page - 1);\r\n    }\r\n\r\n    private handlePageButton(e: any) {\r\n        this.handlePage(e.target.text);\r\n    }\r\n\r\n    private handlePage(page: number) {\r\n        const { hash } = this.props.router;\r\n        const hashParams = ioQuery.queryToObject(hash);\r\n        if (page > 1) {\r\n            hashParams.page = page;\r\n        } else {\r\n            if (hashParams.page) {\r\n                delete hashParams.page;\r\n            }\r\n        }\r\n        this.dispatch(push(ioQuery.objectToQuery(hashParams)));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/Pager.tsx","import { combineReducers } from \"../../../Component\";\r\n\r\nimport base, { BaseState } from \"./base\";\r\nimport items, { ItemsState } from \"./items\";\r\nimport router, { RouterState } from \"./router\";\r\nimport filter, { FilterState } from \"./filter\";\r\nimport page, { PageState } from \"./page\";\r\nimport viewer, { ViewerState } from \"./viewer\";\r\n\r\nexport interface MinimalGalleryState {\r\n    base: BaseState;\r\n    items: ItemsState;\r\n    router: RouterState;\r\n    filter: FilterState;\r\n    page: PageState;\r\n    viewer: ViewerState;\r\n}\r\n\r\nexport const reducers = combineReducers({\r\n    base,\r\n    items,\r\n    router,\r\n    filter,\r\n    page,\r\n    viewer\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_reducers/index.ts","import { MinimalGalleryState } from \".\";\r\nimport { SAVE_APP_BASE_RESULT, LOAD_APP_FAIL, LOAD_APP_PROGRESS, LOAD_APP_SUCCESS } from \"../_actions\";\r\nimport { AUTHENTICATION_FAILED } from \"../_actions/base\";\r\n\r\nexport interface BaseState {\r\n    applicationBase: __esriApplicationBase.ApplicationBase;\r\n    applicationBaseResult: __esriApplicationBase.ApplicationConfig;\r\n    i18n: __Component.Pojo;\r\n    status: string;\r\n    loadMessage: string;\r\n}\r\n\r\nexport default (state: MinimalGalleryState[\"base\"], action: { type: string, payload: any }): MinimalGalleryState[\"base\"] => {\r\n    switch (action.type) {\r\n        case SAVE_APP_BASE_RESULT:\r\n            const perPage = parseInt(action.payload.config.itemsPerPage, 10);\r\n            state.applicationBase.portal = action.payload.portal;\r\n            return {\r\n                ...state,\r\n                loadMessage: \"groupItems\",\r\n                applicationBaseResult: {\r\n                    ...action.payload,\r\n                    config: {\r\n                        ...action.payload.config,\r\n                        itemsPerPage: !isNaN(perPage) && perPage > 0 ? perPage : 20\r\n                    }\r\n                }\r\n            };\r\n        case LOAD_APP_FAIL:\r\n            return {\r\n                ...state,\r\n                status: \"failed\"\r\n            };\r\n        case LOAD_APP_PROGRESS:\r\n            return {\r\n                ...state,\r\n                loadMessage: action.payload\r\n            };\r\n        case LOAD_APP_SUCCESS:\r\n            return {\r\n                ...state,\r\n                status: \"success\"\r\n            };\r\n        case AUTHENTICATION_FAILED:\r\n            return {\r\n                ...state,\r\n                status: \"noauth\"\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_reducers/base.ts","import * as ioQuery from \"dojo/io-query\";\r\nimport { UPDATE_ITEMS, FILTER_ITEMS, HASH_CHANGE, SAVE_APP_BASE_RESULT } from \"../_actions\";\r\n\r\nexport interface ItemsState {\r\n    allowedItemTypes: { [type: string]: boolean };\r\n    allItems: __Component.Pojo[];\r\n    filteredItems: __Component.Pojo[];\r\n    displayKey: string;\r\n    viewerItem: __Component.Pojo;\r\n} \r\n\r\nconst initialState: ItemsState = {\r\n    allowedItemTypes: {},\r\n    allItems: [],\r\n    filteredItems: [],\r\n    displayKey: \"\",\r\n    viewerItem: {}\r\n};\r\n\r\nexport default (state: ItemsState = initialState, action: { type: string, payload: any }): ItemsState => {\r\n    switch (action.type) {\r\n        case SAVE_APP_BASE_RESULT:\r\n            const itemTypes = !!action.payload.config.itemTypes && action.payload.config.itemTypes.length > 0 ?\r\n                action.payload.config.itemTypes :\r\n                \"WMS, Web Map, CityEngine Web Scene, Web Scene, 360 VR Experience, Pro Map, Feature Service, Map Service, Image Service, KML, KML Collection, WFS, WMTS, Feature Collection, Feature Collection Template, Vector Tile Service, Scene Service, Relational Database Connection, Web Mapping Application, StoryMap, Mobile Application, Code Attachment, Operations Dashboard Add In, Native Application, Native Application Template, Native Application Installer, Workforce Project, Form, Insights Workbook, Insights Model, Insights Page, Dashboard, Hub Initiative, Hub Site Application, Hub Page, AppBuilder Widget Package, Symbol Set, Color Set, Shapefile, File Geodatabase, CSV, CAD Drawing, Service Definition, Microsoft Word, Microsoft Powerpoint, Microsoft Excel, PDF, Image, Visio Document, iWork Keynote, iWork Pages, iWork Numbers, Report Template, Statistical Data Collection, Map Document, Map Package, Mobile Basemap Package, Mobile Map Package, Tile Package, Vector Tile Package, Project Package, Task File, ArcPad Package, Explorer Map, Globe Document, Scene Document, Published Map, Map Template, Windows Mobile Package, Pro Map, Layout, Project Template, Layer, Layer, Layer Package, Explorer Layer, Scene Package, Image Collection, Desktop Style, Geoprocessing Package, Geoprocessing Package (Pro version), Geoprocessing Sample, Locator Package, Rule Package, Raster function template, ArcGIS Pro Configuration, Workflow Manager Package, Desktop Application, Desktop Application Template, Code Sample, Desktop Add In, Explorer Add In, ArcGIS Pro Add In, Geometry Service, Geocoding Service, Network Analysis Service, Geoprocessing Service, Workflow Manager Service, Document Link\";\r\n            return {\r\n                ...state,\r\n                allowedItemTypes: itemTypes.split(\",\")\r\n                    .map((type: string) => type.trim())\r\n                    .reduce((r: ItemsState[\"allowedItemTypes\"], c: string) => {\r\n                        r[c] = true;\r\n                        return r;\r\n                    }, {})\r\n            };\r\n        case UPDATE_ITEMS:\r\n            return {\r\n                ...state,\r\n                allItems: action.payload\r\n            };\r\n        case HASH_CHANGE:\r\n            const hashParams = ioQuery.queryToObject(action.payload);\r\n            if (hashParams.viewer) {\r\n                const viewerItem = state.allItems.filter((item) => item.id === hashParams.viewer)[0];\r\n                return {\r\n                    ...state,\r\n                    viewerItem: viewerItem ? viewerItem : {},\r\n                    filteredItems: filterItems(\r\n                        state.allItems,\r\n                        hashParams.query ? hashParams.query : \"\",\r\n                        state.allowedItemTypes\r\n                    ),\r\n                    displayKey: Math.random().toString(36).substring(7)\r\n                };\r\n            }\r\n            return {\r\n                ...state,\r\n                filteredItems: filterItems(\r\n                    state.allItems,\r\n                    hashParams.query ? hashParams.query : \"\",\r\n                    state.allowedItemTypes\r\n                ),\r\n                displayKey: Math.random().toString(36).substring(7)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nfunction filterItems(items: __Component.Pojo[], filter: string, allowedItemTypes: ItemsState[\"allowedItemTypes\"]) {\r\n    return items.filter((item: __Component.Pojo) => (\r\n        allowedItemTypes[item.type] && (\r\n            item.title.toLowerCase().indexOf(filter) !== -1 ||\r\n            item.type.toLowerCase().indexOf(filter) !== -1 ||\r\n            item.owner.toLowerCase().indexOf(filter) !== -1 ||\r\n            (item.tags && item.tags.map((tag: string) => tag.toLowerCase()).indexOf(filter.toLowerCase()) !== -1) ||\r\n            (item.description && item.description.indexOf(filter) !== -1) ||\r\n            (item.snippet && item.snippet.indexOf(filter) !== -1)\r\n        ) && (\r\n            (item.type && item.type !== \"StoryMap\") ||\r\n            (item.type && item.typeKeywords && item.type === \"StoryMap\" && item.typeKeywords.indexOf(\"smstatusdraft\") === -1) \r\n        )\r\n    ));\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_reducers/items.ts","import { HASH_CHANGE } from \"../_actions\";\r\n\r\nexport interface RouterState {\r\n    hash: string;\r\n}\r\n\r\nconst initialState = {\r\n    hash: \"\"\r\n};\r\n\r\nexport default (state: RouterState = initialState, action: __Component.Action) => {\r\n    switch (action.type) {\r\n        case HASH_CHANGE:\r\n            return {\r\n                ...state,\r\n                hash: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_reducers/router.ts","import * as ioQuery from \"dojo/io-query\";\r\nimport { HASH_CHANGE } from \"../_actions\";\r\n\r\nexport type FilterState = string;\r\n\r\nexport default (state: FilterState = \"\", action: __Component.Action): FilterState => {\r\n    switch (action.type) {\r\n        case HASH_CHANGE:\r\n            const hashParams = ioQuery.queryToObject(action.payload);\r\n            return (hashParams.query ? hashParams.query : \"\");\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_reducers/filter.ts","import * as ioQuery from \"dojo/io-query\";\r\nimport { HASH_CHANGE } from \"../_actions\";\r\n\r\nexport type PageState = number;\r\n\r\nexport default (state: PageState = 1, action: __Component.Action): PageState => {\r\n    switch (action.type) {\r\n        case HASH_CHANGE:\r\n            const hashParams = ioQuery.queryToObject(action.payload);\r\n            if (hashParams.page) {\r\n                return parseInt(hashParams.page, 10);\r\n            }\r\n            return 1;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_reducers/page.ts","import * as ioQuery from \"dojo/io-query\";\r\nimport { HASH_CHANGE } from \"../_actions\";\r\n\r\nexport interface ViewerState {\r\n    visible: boolean;\r\n    fullscreen: boolean; \r\n}\r\n\r\nconst initialState: ViewerState = {\r\n    visible: false,\r\n    fullscreen: false\r\n};\r\n\r\nexport default (state: ViewerState = initialState, action: __Component.Action) => {\r\n    switch (action.type) {\r\n        case HASH_CHANGE:\r\n            const hashParams = ioQuery.queryToObject(action.payload);\r\n            if (hashParams.viewer) {\r\n                return {\r\n                    ...state,\r\n                    visible: true,\r\n                    fullscreen: !!hashParams.fullscreen\r\n                };\r\n            }\r\n            return {\r\n                ...state,\r\n                visible: false,\r\n                fullscreen: false\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_reducers/viewer.ts","import { PUSH, hashChange } from \"../_actions\";\r\n\r\nexport const router = () => (next: any) => (action: any) => {\r\n    switch (action.type) {\r\n        case PUSH:\r\n            window.location.hash = action.payload;\r\n            break;\r\n        default:\r\n            return next(action);\r\n    }\r\n};\r\n\r\nexport function startHistoryListener(store: __Component.Store) {\r\n    store.dispatch(hashChange(window.location.hash.slice(1)));\r\n\r\n    window.onhashchange = (event: any) => {\r\n        store.dispatch(hashChange(window.location.hash.slice(1)));\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mainApp/MinimalGallery/_utilities/router.ts"],"sourceRoot":""}